<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>尺寸重量换算工具</title>
    <!-- 引入Element UI的CSS样式 -->
    <link href="https://linwenli95.github.io/onlineTools/css/element-ui.css" rel="stylesheet">
    <!-- 引入 Waves.js 的 CSS 文件 点击波纹 -->
    <link href="css/waves.min.css" rel="stylesheet">
    <style>
        /* 隐藏input type=number上下箭头 */
        input::-webkit-inner-spin-button,
        input::-webkit-outer-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }

        /* 组件字体加大 */
        .el-button,
        .el-input,
        .el-form-item__label,
        .el-select,
        label {
            font-size: 20px; /* 这里的字体大小可以根据需求调整 */
        }

        /* 单位换算的宽度 */
        .min-width-col {
            max-width: 180px;
        }
        /* 汇率转换的输入框宽度 */
        .rateInputClass {
            min-width: 210px;
            max-width: 220px;
        }
        /* 有效小数位设置 */
        .label-tip {
            /*font-size: 14px;*/
            /*color: rgba(0, 0, 0, 0.63);*/
        }
        /* 功能顶部名称加粗 */
        .label-title {
            font-weight: bold;
        }

        /* 调整el-select位置 */
        .el-select {
            margin-right: -5px;
        }
        /*单位换算排版*/
        .divItem{
            display: inline-block;
            position: relative;
            float: left;
            max-width: 420px;
            min-width: 220px;
            margin-left: 10px;
        }
        /*售价计算的最大宽度增加*/
        .divItem2 {
            max-width: 600px;
            min-width: 510px;
            height: 460px;
        }
        /* 功能容器调边距 */
        .container {
            margin: 20px 0 0 20px;
        }
        /* 下拉框调整字体及定位 */
        .el-select .el-input__inner{
            font-size: 15px;
            position: relative;
            top: -2px;
        }
        /* 设置卡片宽度 */
        .el-card {
            width: 1768px;
            min-width: 550px;
        }
        /*设置卡片垂直居中*/
        .el-col {
            display: flex;
            justify-content: space-around;
            padding: 1px;
        }
        /*将卡片头的内边距清零*/
        .el-card__header {
            padding: 0;
            height: 61px;
        }
        /*设置插槽卡片头div的外边距*/
        .cardHeader {
            width: 100%;
            padding: 18px 20px;
            background-color: rgba(211, 227, 253, 0.4);
        }
        .cardHeader:hover {
            background-color: rgba(211, 227, 253, 0.7);
        }
        /*角标固定到右侧*/
        .right-positioned {
            position: relative;
            float: right;
            right: 40px;
            padding: 3px 0;
            font-size:16px
        }
        /* 自定义 div 的样式 */
       .clickable-div {
            position: relative;
            cursor: pointer;
            overflow: hidden;
        }
         /* 覆盖 Waves.js 默认的波纹样式，设置为淡蓝色 */
       .waves-ripple {
            background-color: rgba(0, 149, 255, 0.2) !important;
        }
    </style>
    <style>
        body {
            overflow-x: hidden;
            overflow-y: auto;
        }

        /* 金币样式 */
        .coin {
            position: absolute;
            width: 30px;
            height: 30px;
            background-image: url('img/coin.png');
            background-size: cover;
            pointer-events: all;
            transform-style: preserve-3d;
            cursor: grab;
            z-index: 999; /* 添加 z-index 属性 */
        }

        /* 收集模块整体样式 */
        #collectionModule {
            position: absolute; /* 改为绝对定位 */
            top: 20px;
            right: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: move;
            transition: opacity 0.3s ease; /* 添加过渡效果 */
            z-index: 998;
        }

        /* 金币数量显示样式 */
        #coinCount {
            font-size: 24px; /* 原 36px 缩小三分之一 */
            font-weight: bold;
            color: #ffd700;
            margin-bottom: 6.67px; /* 原 10px 缩小三分之一 */
        }

        @keyframes glow {
            from {
                text-shadow: 0 0 10px #ffd700, 0 0 20px #ffd700, 0 0 30px #ffd700;
            }
            to {
                text-shadow: 0 0 20px #ffd700, 0 0 30px #ffd700, 0 0 40px #ffd700;
            }
        }

        /* 收集箱样式 */
        #collectionBox {
            width: 133.33px; /* 原 200px 缩小三分之一 */
            height: 133.33px; /* 原 200px 缩小三分之一 */
            background-image: url('img/goldmine.png');
            background-size: 100% 100%;
            border-radius: 6.67px; /* 原 10px 缩小三分之一 */
            padding: 6.67px; /* 原 10px 缩小三分之一 */
        }

        /* 通用按钮样式 */
        .common-button {
            padding: 10px 20px;
            color: white;
            border: none;
            border-radius: 16.67px;
            cursor: pointer;
            font-size: 13.33px;
            font-weight: bold;
            box-shadow: 0 3.33px 10px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            margin-top: 6.67px;
        }

        .common-button:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }

        /* 收集按钮样式 */
        #collectButton {
            background: linear-gradient(45deg, #ffd700, #ffb300);
        }

        #collectButton:hover {
            background: linear-gradient(45deg, #ffb300, #ffd700);
        }

        /* 开关按钮样式 */
        #toggleButton {
            background: linear-gradient(45deg, #007BFF, #0056b3);
        }

        #toggleButton:hover {
            background: linear-gradient(45deg, #0056b3, #007BFF);
        }

        /* 半透明样式 */
        .transparent {
            opacity: 0.3;
        }
    </style>
</head>
<body>
<div id="collectionModule">
    <span id="coinCount">0</span>
    <div id="collectionBox"></div>
    <button id="collectButton" class="common-button">收集金币</button>
    <button id="toggleButton" class="common-button">关闭特效</button>
</div>
<!-- chn中 usa美 can加 mex墨西哥 bra巴西 gbr英 eu欧 tur土耳其 pol波兰 swe瑞典 jpn日 aus澳 sgp新 are阿联酋 sau沙特  rus俄罗斯 -->
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true"
     style="position: absolute; width: 0px; height: 0px; overflow: hidden;">
    <symbol viewBox="0 0 517 345" fill="none" id="chn" xmlns="http://www.w3.org/2000/svg">
        <g clip-path="url(#clip0_2_1607)">
            <path d="M0 0H517V344.667H0V0z" fill="#d80027"></path>
            <path d="M228.568 241.065 218.793 225.343 200.753 229.777 212.746 215.567 202.97 199.846 220.204 206.8 232.096 192.59 230.785 211.133 248.019 218.087 229.979 222.521 228.568 241.065zM292.866 82.639 282.687 98.1591 294.377 112.571 276.539 107.733 266.361 123.354 265.353 104.811 247.515 99.9731 264.849 93.3216 263.841 74.7782 275.532 89.1897 292.866 82.639zM238.042 25.5977 236.026 44.0403 252.957 51.6996 234.817 55.5292 232.801 73.9719 223.529 57.8472 205.49 61.6768 217.886 47.87 208.614 31.846 225.545 39.4045 238.042 25.5977zM295.083 163.061 280.067 174.046 285.912 191.683 270.896 180.798 255.88 191.884 261.523 174.147 246.507 163.364 265.051 163.263 270.694 145.526 276.539 163.162 295.083 163.061zM115.897 46.6606 133.331 100.578H189.97L144.216 133.734 161.651 187.651 115.897 154.394 70.0418 187.651 87.5774 133.734 41.7227 100.578H98.4616L115.897 46.6606z"
                  fill="#ffda44"></path>
        </g>
        <defs>
            <clipPath id="clip0_2_1607">
                <path d="M0 0h517v344.667H0z" fill="#fff"></path>
            </clipPath>
        </defs>
    </symbol>
    <symbol viewBox="0 0 517 345" fill="none" id="usa" xmlns="http://www.w3.org/2000/svg">
        <g clip-path="url(#clip0_2_1157)">
            <path d="M0 0H517V344.667H0V0z" fill="#fff"></path>
            <path d="M0 0H517V26.5051H0V0zM0 53.0101H517V79.5152H0V53.0101zM0 106.02H517V132.525H0V106.02zM0 159.03H517V185.535H0V159.03zM0 212.141H517V238.646H0V212.141zM0 265.151H517V291.657H0V265.151zM0 318.162H517V344.667H0V318.162z"
                  fill="#d80027"></path>
            <path d="M0 0H258.5V185.535H0V0z" fill="#2e52b2"></path>
            <path d="M48.1727 139.983 44.1415 127.083 39.7072 139.983H26.4043L37.1877 147.743 33.1565 160.643 44.1415 152.681 54.8242 160.643 50.6922 147.743 61.6772 139.983H48.1727zM104.912 139.983 100.78 127.083 96.547 139.983H83.2441L94.0275 147.743 89.9963 160.643 100.78 152.681 111.664 160.643 107.633 147.743 118.416 139.983H104.912zm56.94.0L157.519 127.083 153.488 139.983H139.882L150.968 147.743 146.735 160.643 157.519 152.681 168.605 160.643 164.372 147.743 175.155 139.983H161.852zM218.49 139.983 214.459 127.083 210.227 139.983H196.823L207.707 147.743 203.676 160.643 214.459 152.681 225.344 160.643 221.01 147.743 232.096 139.983H218.49zM100.78 75.8871 96.547 88.7869H83.2441L94.0275 96.7485 89.9963 109.447 100.78 101.586 111.664 109.447 107.633 96.7485 118.416 88.7869H104.912L100.78 75.8871zm-56.6385.0L39.7072 88.7869H26.4043L37.1877 96.7485 33.1565 109.447 44.1415 101.586 54.8242 109.447 50.6922 96.7485 61.6772 88.7869H48.1727L44.1415 75.8871zm113.3775.0L153.488 88.7869H139.882L150.968 96.7485 146.735 109.447 157.519 101.586 168.605 109.447 164.372 96.7485 175.155 88.7869H161.852L157.519 75.8871zm56.94.0L210.227 88.7869H196.823L207.707 96.7485 203.676 109.447 214.459 101.586 225.344 109.447 221.01 96.7485 232.096 88.7869H218.49L214.459 75.8871zM44.1415 24.8926 39.7072 37.5908H26.4043L37.1877 45.5524 33.1565 58.3514 44.1415 50.3898 54.8242 58.3514 50.6922 45.5524 61.6772 37.5908H48.1727L44.1415 24.8926zm56.6385.0L96.547 37.5908H83.2441L94.0275 45.5524 89.9963 58.3514 100.78 50.3898 111.664 58.3514 107.633 45.5524 118.416 37.5908H104.912L100.78 24.8926zM157.519 24.8926 153.488 37.5908H139.882L150.968 45.5524 146.735 58.3514 157.519 50.3898 168.605 58.3514 164.372 45.5524 175.155 37.5908H161.852L157.519 24.8926zm56.94.0L210.227 37.5908H196.823L207.707 45.5524 203.676 58.3514 214.459 50.3898 225.344 58.3514 221.01 45.5524 232.096 37.5908H218.49L214.459 24.8926z"
                  fill="#fff"></path>
        </g>
        <defs>
            <clipPath id="clip0_2_1157">
                <path d="M0 0h517v344.667H0z" fill="#fff"></path>
            </clipPath>
        </defs>
    </symbol>
    <symbol viewBox="0 0 517 345" fill="none" id="can" xmlns="http://www.w3.org/2000/svg">
        <g clip-path="url(#clip0_2_1555)">
            <path d="M0 0H517V344.667H0V0z" fill="#fff"></path>
            <path d="M0 0H143.107V344.667H0V0zM373.893.0H517V344.667H373.893V0zM308.89 207.606 359.683 182.21 334.286 169.511V144.115L283.493 169.511 308.89 118.719H283.493L258.097 80.6238 232.7 118.719H207.304L232.7 169.511 181.907 144.115V169.511L156.511 182.21 207.304 207.606 194.606 233.003H245.399V271.097H270.795V233.003H321.588L308.89 207.606z"
                  fill="red"></path>
        </g>
        <defs>
            <clipPath id="clip0_2_1555">
                <path d="M0 0h517v344.667H0z" fill="#fff"></path>
            </clipPath>
        </defs>
    </symbol>
    <symbol viewBox="0 0 517 345" fill="none" id="mex" xmlns="http://www.w3.org/2000/svg">
        <g clip-path="url(#clip0_2_627)">
            <path d="M344.667.0H0V343.961H517V0H344.667z" fill="#dc2339"></path>
            <path d="M0 0H172.333V344.667H0V0z" fill="#11865d"></path>
            <path d="M172.333.0H344.666V344.667H172.333V0z" fill="#fff"></path>
            <path d="M197.327 172.535C197.327 194.303 208.917 214.56 227.863 225.444 233.709 228.871 241.166 226.855 244.593 221.01 248.019 215.164 246.004 207.707 240.159 204.28 228.77 197.73 221.817 185.636 221.817 172.535 221.817 165.782 216.375 160.34 209.622 160.34 202.87 160.34 197.327 165.782 197.327 172.535zM291.455 224.033C309.092 212.847 319.674 193.396 319.674 172.535 319.674 165.782 314.232 160.34 307.479 160.34 300.727 160.34 295.285 165.782 295.285 172.535 295.285 185.031 288.936 196.722 278.354 203.474 272.61 207.001 270.796 214.459 274.222 220.304 277.649 226.149 285.207 227.863 291.052 224.436 291.052 224.235 291.254 224.134 291.455 224.033z"
                  fill="#8c9157"></path>
            <path d="M258.5 197.024C272.025 197.024 282.99 180.6 282.99 160.341 282.99 140.081 272.025 123.657 258.5 123.657 244.975 123.657 234.011 140.081 234.011 160.341 234.011 180.6 244.975 197.024 258.5 197.024z"
                  fill="#c59262"></path>
        </g>
        <defs>
            <clipPath id="clip0_2_627">
                <path d="M0 0h517v344.667H0z" fill="#fff"></path>
            </clipPath>
        </defs>
    </symbol>
    <symbol viewBox="0 0 517 345" fill="none" id="bra" xmlns="http://www.w3.org/2000/svg">
        <g clip-path="url(#clip0_2_1513)">
            <path d="M0 0H517V344.667H0V0z" fill="#009b3a"></path>
            <path d="M258.5 19.4502 464.998 172.031 258.5 324.51 50.9946 172.031 258.5 19.4502z"
                  fill="#fedf00"></path>
            <path d="M258.5 253.36C303.25 253.36 339.527 217.083 339.527 172.334 339.527 127.584 303.25 91.3066 258.5 91.3066 213.75 91.3066 177.473 127.584 177.473 172.334 177.473 217.083 213.75 253.36 258.5 253.36z"
                  fill="#fff"></path>
            <path d="M217.583 166.992C203.575 166.992 189.97 169.108 177.171 173.039 177.775 217.281 213.754 252.957 258.097 252.957 285.509 252.957 309.797 239.251 324.41 218.39 299.316 187.148 260.717 166.992 217.583 166.992zM337.511 187.45C338.418 182.411 339.023 177.272 339.023 171.93 339.023 127.184 302.742 90.9033 257.996 90.9033 224.638 90.9033 196.017 111.16 183.52 139.882 194.505 137.665 205.792 136.456 217.382 136.456 264.547 136.557 307.076 156.108 337.511 187.45z"
                  fill="#002776"></path>
        </g>
        <defs>
            <clipPath id="clip0_2_1513">
                <path d="M0 0h517v344.667H0z" fill="#fff"></path>
            </clipPath>
        </defs>
    </symbol>
    <symbol viewBox="0 0 517 345" fill="none" id="gbr" xmlns="http://www.w3.org/2000/svg">
        <g clip-path="url(#clip0_2_98)">
            <path d="M0 0H517V344.67H0V0z" fill="#fff"></path>
            <path d="M290.812-.00299072H226.188V140.017H0v64.625H226.188V344.662H290.812V204.642H517V140.017H290.812V-.00299072z"
                  fill="#d80027"></path>
            <path d="M397.631 232.271 517 298.589V232.271H397.631zM314.696 232.271 517 344.662V312.881L371.904 232.271H314.696zM463.113 344.662 314.696 262.201V344.662H463.113z"
                  fill="#0052b4"></path>
            <path d="M314.696 232.271 517 344.662V312.881L371.904 232.271H314.696z" fill="#fff"></path>
            <path d="M314.696 232.271 517 344.662V312.881L371.904 232.271H314.696z" fill="#d80027"></path>
            <path d="M91.2232 232.269.0 282.949V232.269H91.2232zM202.305 246.562V344.661H25.7399L202.305 246.562z"
                  fill="#0052b4"></path>
            <path d="M145.096 232.271.0 312.881V344.662L202.305 232.271H145.096z" fill="#d80027"></path>
            <path d="M119.369 112.388.0 46.0706V112.388H119.369zm82.936.0L0-.00299072V31.7784L145.096 112.388h57.209zM53.8872-.00299072 202.305 82.4585V-.00299072H53.8872z"
                  fill="#0052b4"></path>
            <path d="M202.305 112.388.0-.00299072V31.7784L145.096 112.388h57.209z" fill="#fff"></path>
            <path d="M202.305 112.388.0-.00299072V31.7784L145.096 112.388h57.209z" fill="#d80027"></path>
            <path d="M425.777 112.39 517 61.7098V112.39H425.777zM314.696 98.0977V-.00201416H491.26L314.696 98.0977z"
                  fill="#0052b4"></path>
            <path d="M371.904 112.388 517 31.7783V-.00305176L314.696 112.388H371.904z" fill="#d80027"></path>
        </g>
        <defs>
            <clipPath id="clip0_2_98">
                <path d="M0 0h517v344.666H0z" fill="#fff"></path>
            </clipPath>
        </defs>
    </symbol>
    <symbol viewBox="0 0 517 345" fill="none" id="eu" xmlns="http://www.w3.org/2000/svg">
        <g clip-path="url(#clip0_2_19)">
            <path d="M0 0H517V344.667H0V0z" fill="#039"></path>
            <path d="M258.469 38.2101 262.767 51.4338H276.742L265.487 59.6114 269.724 72.8491 258.469 64.6716 247.213 72.8491 251.513 59.6184 240.258 51.4409H254.17L258.469 38.2101zM201.024 53.5286 205.323 66.7524H219.297L208.043 74.9299 212.279 88.1676 201.024 79.9901 189.769 88.1676 194.068 74.9369 182.814 66.7594H196.725L201.024 53.5286zM158.898 95.6546 163.197 108.878H177.171L165.917 117.056 170.153 130.294 158.898 122.116 147.643 130.294 151.942 117.063 140.688 108.885H154.599L158.898 95.6546zM143.58 153.098 147.878 166.323H161.853L150.598 174.501 154.835 187.739 143.58 179.56 132.324 187.739 136.624 174.507 125.369 166.33H139.281L143.58 153.098zM158.898 210.543 163.197 223.768H177.171L165.917 231.945 170.153 245.182 158.898 237.006 147.643 245.182 151.942 231.952 140.688 223.774H154.599L158.898 210.543zM201.024 252.669 205.323 265.894H219.297L208.043 274.071 212.279 287.308 201.024 279.131 189.769 287.308 194.068 274.078 182.814 265.9H196.725L201.024 252.669zM315.913 53.5286 320.212 66.7524H334.186L322.931 74.9299 327.168 88.1676 315.913 79.9901 304.657 88.1676 308.957 74.9369 297.702 66.7594H311.614L315.913 53.5286zM358.039 95.6546 362.338 108.878H376.312L365.057 117.056 369.294 130.294 358.039 122.116 346.783 130.294 351.083 117.063 339.828 108.885H353.74L358.039 95.6546zM373.357 153.099 377.656 166.323H391.631L380.376 174.501 384.613 187.739 373.357 179.56 362.102 187.739 366.402 174.507 355.147 166.33H369.059L373.357 153.099zM358.039 210.543 362.338 223.768H376.312L365.057 231.945 369.294 245.182 358.039 237.006 346.784 245.182 351.083 231.952 339.828 223.774H353.74L358.039 210.543zM258.469 267.988 262.767 281.212H276.742L265.487 289.389 269.724 302.627 258.469 294.45 247.213 302.627 251.513 289.396 240.258 281.219H254.17L258.469 267.988zM315.913 252.669 320.212 265.893H334.186L322.931 274.071 327.169 287.308 315.913 279.131 304.658 287.308 308.957 274.077 297.702 265.9H311.615L315.913 252.669z"
                  fill="#fc0"></path>
        </g>
        <defs>
            <clipPath id="clip0_2_19">
                <path d="M0 0h517v344.667H0z" fill="#fff"></path>
            </clipPath>
        </defs>
    </symbol>
    <symbol viewBox="0 0 517 345" fill="none" id="tur" xmlns="http://www.w3.org/2000/svg">
        <g clip-path="url(#clip0_2_1112)">
            <path d="M0 0H517V344.667H0V0z" fill="#e30a17"></path>
            <path d="M261.725 119.525C248.523 109.951 232.499 104.811 216.072 104.912 174.954 104.912 141.696 135.952 141.696 174.349 141.696 212.746 175.054 243.786 216.072 243.786 233.305 243.786 249.228 238.344 261.725 229.173 231.491 268.074 175.357 275.129 136.456 244.794 97.5548 214.459 90.5002 158.426 120.835 119.525 151.17 80.6237 207.203 73.5691 246.104 103.904 251.949 108.439 257.19 113.78 261.725 119.525zM301.936 185.838 283.695 207.908 284.904 179.287 258.298 168.806 285.811 161.147 287.625 132.626 303.347 156.511 331.061 149.355 313.425 171.527 328.844 195.613 301.936 185.838z"
                  fill="#fff"></path>
        </g>
        <defs>
            <clipPath id="clip0_2_1112">
                <path d="M0 0h517v344.667H0z" fill="#fff"></path>
            </clipPath>
        </defs>
    </symbol>
    <symbol viewBox="0 0 517 345" fill="none" id="pol" xmlns="http://www.w3.org/2000/svg">
        <g clip-path="url(#clip0_2_789)">
            <path d="M0 .00390625H517V344.663H0V.00390625z" fill="#fff"></path>
            <path d="M0 .00390625H517V172.334H0V.00390625z" fill="#fff"></path>
            <path d="M0 172.333H517v172.33H0V172.333z" fill="#d80027"></path>
        </g>
        <defs>
            <clipPath id="clip0_2_789">
                <path d="M0 0h517v344.666H0z" fill="#fff"></path>
            </clipPath>
        </defs>
    </symbol>
    <symbol viewBox="0 0 517 345" fill="none" id="swe" xmlns="http://www.w3.org/2000/svg">
        <g clip-path="url(#clip0_2_894)">
            <path d="M0 0H517V344.67H0V0z" fill="#0052b4"></path>
            <path d="M193.875-.00292969H129.25V140.017H0v64.625H129.25V344.662h64.625V204.642H517V140.017H193.875V-.00292969z"
                  fill="#ffda44"></path>
        </g>
        <defs>
            <clipPath id="clip0_2_894">
                <path d="M0 0h517v344.666H0z" fill="#fff"></path>
            </clipPath>
        </defs>
    </symbol>
    <symbol viewBox="0 0 517 345" fill="none" id="jpn" xmlns="http://www.w3.org/2000/svg">
        <g clip-path="url(#clip0_2_318)">
            <path d="M0-.00195312H517V344.668H0V-.00195312z" fill="#fff"></path>
            <path d="M258.5 269.265C312.037 269.265 355.438 225.865 355.438 172.328 355.438 118.791 312.037 75.3901 258.5 75.3901 204.963 75.3901 161.562 118.791 161.562 172.328 161.562 225.865 204.963 269.265 258.5 269.265z"
                  fill="#d80027"></path>
        </g>
        <defs>
            <clipPath id="clip0_2_318">
                <path d="M0 0h517v344.666H0z" fill="#fff"></path>
            </clipPath>
        </defs>
    </symbol>
    <symbol viewBox="0 0 517 345" fill="none" id="aus" xmlns="http://www.w3.org/2000/svg">
        <g clip-path="url(#clip0_2_1391)">
            <path d="M0 0H517V344.667H0V0z" fill="#10338c"></path>
            <path d="M223.933 172.031C224.235 171.729 224.436 171.426 224.739 171.124 224.537 171.426 224.235 171.729 223.933 172.031zM189.466 214.258 200.552 237.336 225.444 231.592 214.358 254.57 234.414 270.493 209.42 276.137 209.521 301.735 189.466 285.711 169.511 301.735 169.612 276.137 144.619 270.493 164.674 254.57 153.488 231.592 178.481 237.336 189.466 214.258zM388.909 242.98 394.15 253.965 406.042 251.244 400.7 262.229 410.274 269.787 398.382 272.408V284.703L388.909 277.044 379.335 284.703 379.436 272.408 367.544 269.787 377.118 262.229 371.776 251.244 383.668 253.965 388.909 242.98zM339.93 126.076 345.171 137.061 357.063 134.339 351.721 145.324 361.295 152.883 349.403 155.604V167.798L339.93 160.139 330.356 167.798 330.457 155.604 318.464 152.883 328.038 145.324 322.697 134.339 334.589 137.061 339.93 126.076zM388.909 59.3594 394.15 70.3444 406.042 67.6233 400.7 78.6083 410.274 86.1668 398.382 88.8878V101.082L388.909 93.4229 379.335 101.082 379.436 88.8878 367.544 86.1668 377.118 78.6083 371.776 67.6233 383.668 70.3444 388.909 59.3594zM431.74 109.447 436.981 120.432 448.873 117.711 443.532 128.696 453.106 136.254 441.214 138.875V151.17L431.74 143.51 422.166 151.17V138.875L410.274 136.254 419.848 128.696 414.507 117.711 426.399 120.432 431.74 109.447zm-30.637 58.351L405.235 180.597H418.639L407.755 188.458 411.987 201.257 401.103 193.296 390.219 201.257 394.351 188.458 383.568 180.597H396.971L401.103 167.798z"
                  fill="#fff"></path>
            <path d="M256.787.0V30.8386L211.335 56.1343H256.787V115.897H197.226L256.787 148.952V172.031H229.878L155.805 130.812V172.031H99.7718V123.052L11.6903 172.031H-1.20947V141.192L44.343 115.897H-1.20947V56.1343H58.3513L-1.20947 22.9778V0H25.6987L99.7718 41.1181V0H155.805V48.9789L243.988.0H256.787z"
                  fill="#fff"></path>
            <path d="M143.913.0H111.664V69.8404H-1.20947V102.09H111.664v69.941H143.913V102.09H256.787V69.8404H143.913V0z"
                  fill="#d80027"></path>
            <path d="M155.805 115.896 256.787 172.031V156.108L184.427 115.896H155.805z" fill="#0052b4"></path>
            <path d="M155.805 115.896 256.787 172.031V156.108L184.427 115.896H155.805z" fill="#fff"></path>
            <path d="M155.805 115.896 256.787 172.031V156.108L184.427 115.896H155.805zM71.2511 115.896-1.20947 156.108V172.031L99.7718 115.896H71.2511z"
                  fill="#d80027"></path>
            <path d="M99.7718 56.1343-1.20947.0V15.8224L71.2511 56.1343H99.7718z" fill="#0052b4"></path>
            <path d="M99.7718 56.1343-1.20947.0V15.8224L71.2511 56.1343H99.7718z" fill="#fff"></path>
            <path d="M99.7718 56.1343-1.20947.0V15.8224L71.2511 56.1343H99.7718zm84.6552.0L256.787 15.8224V0L155.805 56.1343H184.427z"
                  fill="#d80027"></path>
        </g>
        <defs>
            <clipPath id="clip0_2_1391">
                <path d="M0 0h517v344.667H0z" fill="#fff"></path>
            </clipPath>
        </defs>
    </symbol>
    <symbol viewBox="0 0 517 345" fill="none" id="sgp" xmlns="http://www.w3.org/2000/svg">
        <g clip-path="url(#clip0_2_897)">
            <path d="M0 .00390625H517V344.663H0V.00390625z" fill="#fff"></path>
            <path d="M0 .00390625H517V172.334H0V.00390625z" fill="#d80027"></path>
            <path d="M84.2933 86.1665C84.2933 61.0587 101.94 40.0839 125.504 34.9371 121.812 34.1277 118.044 33.7187 114.265 33.7173 85.297 33.7173 61.8159 57.1984 61.8159 86.1655 61.8159 115.133 85.298 138.615 114.265 138.615 118.124 138.615 121.882 138.186 125.504 137.395 101.94 132.25 84.2933 111.275 84.2933 86.1665zm67.4347-48.702L155.448 48.9122H167.486L157.747 55.9877 161.467 67.4354 151.728 60.361 141.989 67.4354 145.71 55.9877 135.971 48.9122H148.008L151.728 37.4645z"
                  fill="#fff"></path>
            <path d="M122.529 59.9429 126.248 71.3906H138.285L128.546 78.466 132.266 89.9137 122.529 82.8393 112.79 89.9137 116.511 78.466 106.771 71.3906H118.809L122.529 59.9429zm58.399.0L184.648 71.3906H196.685L186.946 78.466 190.666 89.9137 180.928 82.8393 171.189 89.9137 174.91 78.466 165.171 71.3906H177.209L180.928 59.9429zM169.688 93.66 173.408 105.108H185.445L175.707 112.183 179.427 123.631 169.688 116.556 159.951 123.631 163.671 112.183 153.933 105.108H165.969L169.688 93.66zM133.768 93.66 137.487 105.108H149.524L139.786 112.183 143.506 123.631 133.768 116.556 124.029 123.631 127.749 112.183 118.011 105.108H130.048L133.768 93.66z"
                  fill="#fff"></path>
        </g>
        <defs>
            <clipPath id="clip0_2_897">
                <path d="M0 0h517v344.666H0z" fill="#fff"></path>
            </clipPath>
        </defs>
    </symbol>
    <symbol viewBox="0 0 517 345" fill="none" id="are" xmlns="http://www.w3.org/2000/svg">
        <g clip-path="url(#clip0_2_1326)">
            <path d="M0 0H517V344.667H0V0z" fill="#fff"></path>
            <path d="M0 0H517V114.889H0V0z" fill="#009e49"></path>
            <path d="M0 229.777H517V344.666H0V229.777z" fill="#000"></path>
            <path d="M0 0H172.333V344.667H0V0z" fill="#ce1126"></path>
        </g>
        <defs>
            <clipPath id="clip0_2_1326">
                <path d="M0 0h517v344.667H0z" fill="#fff"></path>
            </clipPath>
        </defs>
    </symbol>
    <symbol viewBox="0 0 517 345" fill="none" id="sau" xmlns="http://www.w3.org/2000/svg">
        <g clip-path="url(#clip0_2_871)">
            <path d="M0 0H517V344.666H0V0z" fill="#055e1c"></path>
            <path d="M185.34 206.046C185.34 218.461 195.166 228.524 207.289 228.524H273.134C273.134 238.868 281.323 247.256 291.424 247.256H313.373C323.474 247.256 331.664 238.869 331.664 228.524V206.046H185.34zM333.489 97.3999V149.849C333.489 158.112 326.926 164.834 318.857 164.834V187.312C339.028 187.312 355.436 170.507 355.436 149.849V97.3999H333.489zM176.195 149.85C176.195 158.113 169.632 164.835 161.562 164.835V187.313C181.734 187.313 198.142 170.508 198.142 149.85V97.4009H176.194L176.195 149.85z"
                  fill="#fff"></path>
            <path d="M300.568 97.397H322.516v52.449H300.568V97.397zM267.645 127.372C267.645 129.438 266.005 131.118 263.987 131.118 261.97 131.118 260.329 129.438 260.329 127.372V97.4H238.38V127.372C238.38 129.438 236.74 131.118 234.722 131.118 232.704 131.118 231.064 129.438 231.064 127.372V97.4H209.115V127.372C209.115 141.832 220.602 153.597 234.721 153.597 240.159 153.597 245.202 151.847 249.354 148.874 253.504 151.847 258.548 153.597 263.986 153.597 265.081 153.597 266.157 153.518 267.217 153.379 265.662 159.942 259.891 164.835 253.012 164.835V187.314C273.183 187.314 289.592 170.508 289.592 149.85V97.4H267.643L267.645 127.372z"
                  fill="#fff"></path>
            <path d="M209.115 164.831H242.035V187.309H209.115V164.831z" fill="#fff"></path>
        </g>
        <defs>
            <clipPath id="clip0_2_871">
                <path d="M0 0h517v344.666H0z" fill="#fff"></path>
            </clipPath>
        </defs>
    </symbol>
    <symbol viewBox="0 0 517 345" fill="none" id="rus" xmlns="http://www.w3.org/2000/svg">
        <g clip-path="url(#clip0_2_861)">
            <path d="M0-.00292969V344.662H517V-.00292969H0z" fill="#fff"></path>
            <path d="M0 0H517V344.67H0V0z" fill="#0052b4"></path>
            <path d="M0 0H517V114.886H0V0z" fill="#fff"></path>
            <path d="M0 229.773H517V344.66H0V229.773z" fill="#d80027"></path>
        </g>
        <defs>
            <clipPath id="clip0_2_861">
                <path d="M0 0h517v344.666H0z" fill="#fff"></path>
            </clipPath>
        </defs>
    </symbol>
</svg>
<div id="app">
    <el-row>
        <el-col>
            <el-card shadow="hover" body-style="padding: 0">
                <div slot="header" @click="show1 = !show1" id="" class="cardHeader clickable-div waves-effect waves-light">
                    <span>单位换算/FBA配送费计算</span>
                    <el-button class="right-positioned" type="text"><i :class="show1?'el-icon-arrow-up':'el-icon-arrow-down'"></i></el-button>
                </div>
                <el-collapse-transition>
                    <div v-show="show1" class="container">
                        <el-form label-width="auto" v-model="size">
                            <!--长-->
                            <div class="divItem">
                                <label class="label-title">长：</label>
                                <el-form-item label="毫米">
                                    <el-input @input="handleSizeInput($event, 'mm', size.length)" class="min-width-col" type="number"
                                              v-model="size.length.mm">
                                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">mm</i>
                                    </el-input>
                                </el-form-item>
                                <el-form-item label="厘米">
                                    <el-input @input="handleSizeInput($event, 'cm', size.length)" class="min-width-col" type="number"
                                              v-model="size.length.cm">
                                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">cm</i>
                                    </el-input>
                                </el-form-item>
                                <el-form-item label="英寸">
                                    <el-input @input="handleSizeInput($event, 'in', size.length)" class="min-width-col" type="number"
                                              v-model="size.length.in">
                                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">in</i>
                                    </el-input>
                                </el-form-item>
                                <el-form-item label="英尺">
                                    <el-input @input="handleSizeInput($event, 'ft', size.length)" class="min-width-col" type="number"
                                              v-model="size.length.ft">
                                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">ft</i>
                                    </el-input>
                                </el-form-item>
                            </div>
                            <!--宽-->
                            <div class="divItem">
                                <label class="label-title">宽：</label>
                                <el-form-item label="毫米">
                                    <el-input @input="handleSizeInput($event, 'mm', size.width)" class="min-width-col" type="number"
                                              v-model="size.width.mm">
                                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">mm</i>
                                    </el-input>
                                </el-form-item>
                                <el-form-item label="厘米">
                                    <el-input @input="handleSizeInput($event, 'cm', size.width)" class="min-width-col" type="number"
                                              v-model="size.width.cm">
                                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">cm</i>
                                    </el-input>
                                </el-form-item>
                                <el-form-item label="英寸">
                                    <el-input @input="handleSizeInput($event, 'in', size.width)" class="min-width-col" type="number"
                                              v-model="size.width.in">
                                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">in</i>
                                    </el-input>
                                </el-form-item>
                                <el-form-item label="英尺">
                                    <el-input @input="handleSizeInput($event, 'ft', size.width)" class="min-width-col" type="number"
                                              v-model="size.width.ft">
                                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">ft</i>
                                    </el-input>
                                </el-form-item>
                            </div>
                            <!--高-->
                            <div class="divItem">
                                <label class="label-title">高：</label>
                                <el-form-item label="毫米">
                                    <el-input @input="handleSizeInput($event, 'mm', size.height)" class="min-width-col" type="number"
                                              v-model="size.height.mm">
                                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">mm</i>
                                    </el-input>
                                </el-form-item>
                                <el-form-item label="厘米">
                                    <el-input @input="handleSizeInput($event, 'cm', size.height)" class="min-width-col" type="number"
                                              v-model="size.height.cm">
                                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">cm</i>
                                    </el-input>
                                </el-form-item>
                                <el-form-item label="英寸">
                                    <el-input @input="handleSizeInput($event, 'in', size.height)" class="min-width-col" type="number"
                                              v-model="size.height.in">
                                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">in</i>
                                    </el-input>
                                </el-form-item>
                                <el-form-item label="英尺">
                                    <el-input @input="handleSizeInput($event, 'ft', size.height)" class="min-width-col" type="number"
                                              v-model="size.height.ft">
                                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">ft</i>
                                    </el-input>
                                </el-form-item>
                            </div>
                            <!--重量-->
                            <div class="divItem">
                                <label class="label-title">重量：</label>
                                <el-form-item label="克">
                                    <el-input @input="handleWeightInput($event, 'g')" class="min-width-col" type="number"
                                              v-model="weight.g">
                                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">g</i>
                                    </el-input>
                                </el-form-item>
                                <el-form-item label="千克">
                                    <el-input @input="handleWeightInput($event, 'kg')" class="min-width-col" type="number"
                                              v-model="weight.kg">
                                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">kg</i>
                                    </el-input>
                                </el-form-item>
                                <el-form-item label="磅">
                                    <el-input @input="handleWeightInput($event, 'lb')" class="min-width-col" type="number"
                                              v-model="weight.lb">
                                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">lb</i>
                                    </el-input>
                                </el-form-item>
                                <el-form-item label="盎司">
                                    <el-input @input="handleWeightInput($event, 'oz')" class="min-width-col" type="number"
                                              v-model="weight.oz">
                                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">oz</i>
                                    </el-input>
                                </el-form-item>
                            </div>
                        </el-form>
                        <el-form label-width="auto" v-model="size">
                            <!--FBA费用计算-->
                            <div class="divItem">
                                <label class="label-title">FBA配送费:</label>
                                <el-select v-model="siteName" size="mini" style="width: 70px;" @change="changeSiteHandler">
                                    <el-option :key="item"
                                               :label="item"
                                               :value="item"
                                               v-for="item in sites"></el-option>
                                </el-select>&nbsp;
                                <el-popover
                                        placement="bottom"
                                        trigger="hover">
                                    <img v-if="siteName==='US'" v-lazy="'img/standard.png'">
                                    <img v-if="siteName==='AU'" v-lazy="'img/AU-1.png'" style="width: 600px;height:1000px">
                                    <img v-if="siteName==='AU'" v-lazy="'img/AU-2.png'" style="width: 600px;height:1000px">
                                    <img v-if="siteName==='JP'" v-lazy="'img/JP-1.png'">
                                    <img v-if="siteName==='CA'" v-lazy="'img/CA-1.png'">
                                    <a href="javascript:;" slot="reference" style="color: grey">收费标准</a>
                                </el-popover>
                                <el-popover
                                        placement="bottom"
                                        trigger="hover">
                                    <label style="font-size: 12px;color: red">外箱最长边不超过25英寸/63.5厘米，美国站单箱不能大于50磅/22.5公斤</label><br/>
                                    <img v-lazy="'img/fba外箱要求.png'">
                                    <a href="javascript:;" slot="reference" style="color: grey">外箱要求</a>
                                </el-popover>
                                <el-form-item label="标准尺寸">
                                    <el-input class="min-width-col" v-model="classification"></el-input>
                                </el-form-item>
                                <el-form-item label="标准配送费">
                                    <el-input class="min-width-col" v-model="FBADeliveryFee.standard">
                                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">${{siteCurrencys[siteName]}}</i>
                                    </el-input>
                                </el-form-item>
                                <el-form-item label="低价配送费">
                                    <el-input class="min-width-col" v-model="FBADeliveryFee.lowPrice">
                                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">${{siteCurrencys[siteName]}}</i>
                                    </el-input>
                                </el-form-item>
                                <el-form-item label="高一档尺寸">
                                    <el-input class="min-width-col" v-model="highClassification"></el-input>
                                </el-form-item>
                                <el-form-item label="高一档标准">
                                    <el-input class="min-width-col" v-model="FBADeliveryFee.highStandard">
                                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">${{siteCurrencys[siteName]}}</i>
                                    </el-input>
                                </el-form-item>
                                <el-form-item label="高一档低价">
                                    <el-input class="min-width-col" v-model="FBADeliveryFee.highLowPrice">
                                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">${{siteCurrencys[siteName]}}</i>
                                    </el-input>
                                </el-form-item>
                            </div>
                            <!--体积-->
                            <div class="divItem" style="height: 416px;">
                                <label class="label-title">体积：</label>
                                <el-form-item label="立方厘米">
                                    <el-input @input="handleVolumeInput($event, 'cm')" class="min-width-col" type="number"
                                              v-model="volume.cm">
                                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">cm&sup3;</i>
                                    </el-input>
                                </el-form-item>
                                <el-form-item label="立方英尺">
                                    <el-input @input="handleVolumeInput($event, 'ft')" class="min-width-col" type="number"
                                              v-model="volume.ft">
                                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">ft&sup3;</i>
                                    </el-input>
                                </el-form-item>
                                <el-form-item label="立方英寸">
                                    <el-input @input="handleVolumeInput($event, 'in')" class="min-width-col" type="number"
                                              v-model="volume.in">
                                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">in&sup3;</i>
                                    </el-input>
                                </el-form-item>
                                <el-form-item>
                                    <el-popover
                                            placement="right"
                                            trigger="click"
                                            width="320">
                                        <label class="label-tip">有效小数位设置：</label>
                                        <el-checkbox @change="handleFixedData" v-model="showFixedTextInput">
                                            {{ showFixedTextInput ? '开启' : '关闭' }}
                                        </el-checkbox>
                                        <el-tooltip class="item" effect="dark" content="小数点后无效的0不补" placement="top-start">
                                            <input @input="handleDataToFixed" style="width: 20px;height:20px;border-radius: 4px"
                                                   type="number"
                                                   v-model="toFixedNum" v-show="showFixedTextInput"></input>
                                        </el-tooltip>
                                        <label class="label-tip" v-show="showFixedTextInput">位</label>
                                        <el-button slot="reference" class="min-width-col">有效小数位设置</el-button>
                                    </el-popover>
                                </el-form-item>
                            </div><br/>
                        </el-form>
                    </div>
                </el-collapse-transition>
            </el-card>
        </el-col>
        <el-col>
            <el-card shadow="hover" body-style="padding: 0">
                <div slot="header" @click="show2 = !show2" class="cardHeader clickable-div waves-effect waves-light">
                    <span>汇率换算/利润计算</span>
                    <el-button class="right-positioned" type="text"><i :class="show2?'el-icon-arrow-up':'el-icon-arrow-down'"></i></el-button>
                </div>
                <el-collapse-transition>
                    <div v-show="show2" class="container">
                        <el-form label-width="auto" v-model="size">
                            <!--常用汇率-->
                            <div class="divItem">
                                <label class="label-title">常用汇率：</label>
                                <a @click="refreshRateUnites()" href="javascript:;" style="color: grey">刷新汇率</a>
                                <el-form-item label="人民币">
                                    <el-input @input="handleRatesInput($event, 'CNY')" type="number" v-model="rates.CNY" class="rateInputClass">
                                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">￥CNY
                                            <svg style="position: relative;width:30px;height: 20px;top:3px">
                                                <use href="#chn" width="30" height="20"></use>
                                            </svg>
                                        </i>
                                    </el-input>
                                </el-form-item>
                                <el-form-item label="美元">
                                    <el-input @input="handleRatesInput($event, 'USD')" type="number" v-model="rates.USD" class="rateInputClass">
                                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">$USD
                                            <svg style="position: relative;width:30px;height: 20px;top:3px">
                                                <use href="#usa" width="30" height="20"></use>
                                            </svg>
                                        </i>
                                    </el-input>
                                </el-form-item>
                                <el-form-item label="欧元">
                                    <el-input @input="handleRatesInput($event, 'EUR')" type="number" v-model="rates.EUR" class="rateInputClass">
                                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">$EUR
                                            <svg style="position: relative;width:30px;height: 20px;top:3px">
                                                <use href="#eu" width="30" height="20"></use>
                                            </svg>
                                        </i>
                                    </el-input>
                                </el-form-item>
                                <el-form-item label="英镑">
                                    <el-input @input="handleRatesInput($event, 'GBP')" type="number" v-model="rates.GBP" class="rateInputClass">
                                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">$GBP
                                            <svg style="position: relative;width:30px;height: 20px;top:3px">
                                                <use href="#gbr" width="30" height="20"></use>
                                            </svg>
                                        </i>
                                    </el-input>
                                </el-form-item>
                                <el-form-item label="日元">
                                    <el-input @input="handleRatesInput($event, 'JPY')" type="number" v-model="rates.JPY" class="rateInputClass">
                                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">$JPY
                                            <svg style="position: relative;width:30px;height: 20px;top:3px;outline: 1px solid #EDE9E9;">
                                                <use href="#jpn" width="30" height="20"></use>
                                            </svg>
                                        </i>
                                    </el-input>
                                </el-form-item>
                                <el-form-item label="澳元">
                                    <el-input @input="handleRatesInput($event, 'AUD')" type="number" v-model="rates.AUD" class="rateInputClass">
                                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">$AUD
                                            <svg style="position: relative;width:30px;height: 20px;top:3px">
                                                <use href="#aus" width="30" height="20"></use>
                                            </svg>
                                        </i>
                                    </el-input>
                                </el-form-item>
                                <el-form-item label="加元">
                                    <el-input @input="handleRatesInput($event, 'CAD')" type="number" v-model="rates.CAD" class="rateInputClass">
                                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">$CAD
                                            <svg style="position: relative;width:30px;height: 20px;top:3px">
                                                <use href="#can" width="30" height="20"></use>
                                            </svg>
                                        </i>
                                    </el-input>
                                </el-form-item>
                            </div>
                        </el-form>
                        <el-form label-width="auto" v-model="size">
                            <!--不常用汇率-->
                            <div class="divItem">
                                <label class="label-title">不常用汇率：</label>
                                <el-form-item label="新加坡元">
                                    <el-input @input="handleRatesInput($event, 'SGD')" type="number" v-model="rates.SGD" class="rateInputClass">
                                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">$SGD
                                            <svg style="position: relative;width:30px;height: 20px;top:3px;outline: 1px solid #EDE9E9;">
                                                <use href="#sgp" width="30" height="20"></use>
                                            </svg>
                                        </i>
                                    </el-input>
                                </el-form-item>
                                <el-form-item label="墨西哥比索">
                                    <el-input @input="handleRatesInput($event, 'MXN')" type="number" v-model="rates.MXN" class="rateInputClass">
                                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">$MXN
                                            <svg style="position: relative;width:30px;height: 20px;top:3px">
                                                <use href="#mex" width="30" height="20"></use>
                                            </svg>
                                        </i>
                                    </el-input>
                                </el-form-item>
                                <el-form-item label="瑞典朗克">
                                    <el-input @input="handleRatesInput($event, 'SEK')" type="number" v-model="rates.SEK" class="rateInputClass">
                                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">$SEK
                                            <svg style="position: relative;width:30px;height: 20px;top:3px">
                                                <use href="#swe" width="30" height="20"></use>
                                            </svg>
                                        </i>
                                    </el-input>
                                </el-form-item>
                                <el-form-item label="波兰兹罗提">
                                    <el-input @input="handleRatesInput($event, 'PLN')" type="number" v-model="rates.PLN" class="rateInputClass">
                                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">$PLN
                                            <svg style="position: relative;width:30px;height: 20px;top:3px;outline: 1px solid #EDE9E9;">
                                                <use href="#pol" width="30" height="20"></use>
                                            </svg>
                                        </i>
                                    </el-input>
                                </el-form-item>
                                <el-form-item label="土耳其里拉">
                                    <el-input @input="handleRatesInput($event, 'TRY')" type="number" v-model="rates.TRY" class="rateInputClass">
                                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">$TRY
                                            <svg style="position: relative;width:30px;height: 20px;top:3px">
                                                <use href="#tur" width="30" height="20"></use>
                                            </svg>
                                        </i>
                                    </el-input>
                                </el-form-item>
                                <el-form-item label="沙特里亚尔">
                                    <el-input @input="handleRatesInput($event, 'SAR')" type="number" v-model="rates.SAR" class="rateInputClass">
                                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">$SAR
                                            <svg style="position: relative;width:30px;height: 20px;top:3px">
                                                <use href="#sau" width="30" height="20"></use>
                                            </svg>
                                        </i>
                                    </el-input>
                                </el-form-item>
                                <el-form-item label="阿联酋迪拉姆">
                                    <el-input @input="handleRatesInput($event, 'AED')" type="number" v-model="rates.AED" class="rateInputClass">
                                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">$AED
                                            <svg style="position: relative;width:30px;height: 20px;top:3px">
                                                <use href="#are" width="30" height="20"></use>
                                            </svg>
                                        </i>
                                    </el-input>
                                </el-form-item>
                            </div>
                        </el-form>
                        <el-form label-width="auto" v-model="size">
                            <!--售价计算毛利润-->
                            <div class="divItem divItem2">
                                <label class="label-title">售价计算毛利润：</label>
                                <el-form-item label-width="92px" label="售价">
                                    <el-input @input="profitCalculationHandle('price')" style="width: 220px;display: inline-block"  class="rateInputClass"
                                              type="number"
                                              v-model="profitCalculation.price">
                                        <el-select @change="profitCalculationHandle('currency')" slot='suffix' style="width: 120px"
                                                   v-model="profitCalculation.currency">
                                            <el-option
                                                    :key="item.value"
                                                    :label="item.label"
                                                    :value="item.value"
                                                    v-for="item in profitCalculation.currencyOptions">
                                            </el-option>
                                        </el-select>
                                    </el-input>
                                    <el-input @input="profitCalculationHandle('priceCNY')" style="width: 180px;display: inline-block"
                                              type="number" v-model="profitCalculation.priceCNY">
                                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">￥CNY</i>
                                    </el-input>
                                </el-form-item>
                                <el-form-item label-width="92px" label="佣金&税">
                                    <el-tooltip content="与售价的百分比" effect="light" placement="top">
                                        <el-input @input="profitCalculationHandle('commissionRate')"
                                                  style="width: 90px;display: inline-block"
                                                  type="number"
                                                  v-model="profitCalculation.commissionRate">
                                            <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">%</i>
                                        </el-input>
                                    </el-tooltip>
                                    <el-input @input="profitCalculationHandle('commission')" disabled
                                              style="width: 146px;display: inline-block" type="number"
                                              v-model="profitCalculation.commission">
                                        <i slot='suffix'
                                           style="font-style: normal; margin-right: 10px; line-height: 36px">${{profitCalculation.currency}}</i>
                                    </el-input>
                                    <el-input @input="profitCalculationHandle('commissionCNY')" disabled
                                              style="width: 160px;display: inline-block" type="number"
                                              v-model="profitCalculation.commissionCNY">
                                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">￥CNY</i>
                                    </el-input>
                                </el-form-item>
                                <el-form-item label-width="92px" label="广告费">
                                    <el-tooltip content="与售价的百分比" effect="light" placement="top">
                                        <el-input @input="profitCalculationHandle('adRate')" style="width: 90px;display: inline-block"
                                                  type="number"
                                                  v-model="profitCalculation.adRate">
                                            <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">%</i>
                                        </el-input>
                                    </el-tooltip>
                                    <el-input @input="profitCalculationHandle('adCost')" style="width: 146px;display: inline-block"
                                              type="number" v-model="profitCalculation.adCost">
                                        <i slot='suffix'
                                           style="font-style: normal; margin-right: 10px; line-height: 36px">${{profitCalculation.currency}}</i>
                                    </el-input>
                                    <el-input @input="profitCalculationHandle('adCostCNY')" style="width: 160px;display: inline-block"
                                              type="number" v-model="profitCalculation.adCostCNY">
                                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">￥CNY</i>
                                    </el-input>
                                </el-form-item>
                                <el-form-item label-width="92px" label="配送费">
                                    <el-input @input="profitCalculationHandle('deliverFee')" style="width: 200px;display: inline-block"
                                              type="number" v-model="profitCalculation.deliverFee">
                                        <i slot='suffix'
                                           style="font-style: normal; margin-right: 10px; line-height: 36px">${{profitCalculation.currency}}</i>
                                    </el-input>
                                    <el-input @input="profitCalculationHandle('deliverFeeCNY')"
                                              style="width: 200px;display: inline-block"
                                              type="number"
                                              v-model="profitCalculation.deliverFeeCNY">
                                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">￥CNY</i>
                                    </el-input>
                                </el-form-item>
                                <el-form-item label-width="92px" label="采购成本">
                                    <el-input @input="profitCalculationHandle('purchasingCost')"
                                              style="width: 200px;display: inline-block"
                                              type="number"
                                              v-model="profitCalculation.purchasingCost">
                                        <i slot='suffix'
                                           style="font-style: normal; margin-right: 10px; line-height: 36px">${{profitCalculation.currency}}</i>
                                    </el-input>
                                    <el-input @input="profitCalculationHandle('purchasingCostCNY')"
                                              style="width: 200px;display: inline-block"
                                              type="number"
                                              v-model="profitCalculation.purchasingCostCNY">
                                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">￥CNY</i>
                                    </el-input>
                                </el-form-item>
                                <el-form-item label-width="92px" label="毛利润">
                                    <el-tooltip content="毛利率=(售价-销售总成本)/售价×100%" effect="light" placement="top">
                                        <el-input style="width: 90px;display: inline-block"
                                                  type="number"
                                                  v-model="profitCalculation.grossMargin">
                                            <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">%</i>
                                        </el-input>
                                    </el-tooltip>
                                    <el-input style="width: 146px;display: inline-block" type="number"
                                              v-model="profitCalculation.grossProfit">
                                        <i slot='suffix'
                                           style="font-style: normal; margin-right: 10px; line-height: 36px">${{profitCalculation.currency}}</i>
                                    </el-input>
                                    <el-input style="width: 160px;display: inline-block" type="number"
                                              v-model="profitCalculation.grossProfitCNY">
                                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">￥CNY</i>
                                    </el-input>
                                </el-form-item>
                            </div>
                        </el-form>
                        <el-form label-width="auto" v-model="size">
                            <!--成本计算售价-->
                            <div class="divItem divItem2">
                                <label class="label-title">成本计算售价：</label>
                                <el-popover
                                        placement="top"
                                        trigger="hover">
                                    <label style="font-size: 18px;">计算产品在多个站点售价，</label><br/>
                                    <label style="font-size: 18px;">下载表格后自行调整Excel函数公式，</label><br/>
                                    <label style="font-size: 18px;">让表格更符合自己的计算习惯</label>
                                    <a href="https://linwenli95.github.io/onlineTools/tools/ExcelEdit/多站点定价表格.xlsx" slot="reference" style="color: grey">定价表格下载</a>
                                </el-popover>
                                <el-popover
                                        placement="top"
                                        trigger="hover">
                                    <label style="font-size: 18px;">点击打开Excel在线编辑器页面</label><br/>
                                    <label style="font-size: 18px;">如果想下载此编辑器到本地使用，请点击：</label>
                                    <a href="https://linwenli95.github.io/onlineTools/tools/ExcelEdit/SpreadJsExcel.zip" style="color: grey">Excel编辑器下载</a>
                                    <a href="javascript:;" @click="showOnlineExcelEditor" slot="reference" style="color: grey">Excel在线编辑器</a>
                                </el-popover>
                                <el-form-item label-width="92px" label="采购成本">
                                    <el-input @input="priceCalculationHandle('purchasingCost')" ref="inputRef"
                                              style="width: 220px;display: inline-block"
                                              type="number"
                                              v-model="priceCalculation.purchasingCost">
                                        <template slot="suffix">
                                            <el-select @change="priceCalculationHandle('currency')" slot='suffix' style="width: 120px;"
                                                       v-model="priceCalculation.currency">
                                                <el-option
                                                        :key="item.value"
                                                        :label="item.label"
                                                        :value="item.value"
                                                        v-for="item in priceCalculation.currencyOptions">
                                                </el-option>
                                            </el-select>
                                        </template>
                                    </el-input>
                                    <el-input @input="priceCalculationHandle('purchasingCostCNY')"
                                              style="width: 180px;display: inline-block"
                                              type="number"
                                              v-model="priceCalculation.purchasingCostCNY">
                                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">￥CNY</i>
                                    </el-input>
                                </el-form-item>
                                <el-form-item label-width="92px" label="配送费">
                                    <el-input @input="priceCalculationHandle('deliverFee')" style="width: 200px;display: inline-block"
                                              type="number" v-model="priceCalculation.deliverFee">
                                        <i slot='suffix'
                                           style="font-style: normal; margin-right: 10px; line-height: 36px">${{priceCalculation.currency}}</i>
                                    </el-input>
                                    <el-input @input="priceCalculationHandle('deliverFeeCNY')"
                                              style="width: 200px;display: inline-block"
                                              type="number"
                                              v-model="priceCalculation.deliverFeeCNY">
                                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">￥CNY</i>
                                    </el-input>
                                </el-form-item>
                                <el-form-item label-width="92px" label="佣金&税">
                                    <el-tooltip content="与售价的百分比" effect="light" placement="top">
                                        <el-input @input="priceCalculationHandle('commissionRate')"
                                                  style="width: 90px;display: inline-block"
                                                  type="number"
                                                  v-model="priceCalculation.commissionRate">
                                            <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">%</i>
                                        </el-input>
                                    </el-tooltip>
                                    <el-input @input="priceCalculationHandle('commission')" disabled
                                              style="width: 146px;display: inline-block" type="number"
                                              v-model="priceCalculation.commission">
                                        <i slot='suffix'
                                           style="font-style: normal; margin-right: 10px; line-height: 36px">${{priceCalculation.currency}}</i>
                                    </el-input>
                                    <el-input @input="priceCalculationHandle('commissionCNY')" disabled
                                              style="width: 160px;display: inline-block" type="number"
                                              v-model="priceCalculation.commissionCNY">
                                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">￥CNY</i>
                                    </el-input>
                                </el-form-item>
                                <el-form-item label-width="92px" label="广告费">
                                    <el-tooltip content="与售价的百分比" effect="light" placement="top">
                                        <el-input @input="priceCalculationHandle('adRate')" style="width: 90px;display: inline-block"
                                                  type="number"
                                                  v-model="priceCalculation.adRate">
                                            <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">%</i>
                                        </el-input>
                                    </el-tooltip>
                                    <el-input @input="priceCalculationHandle('adCost')" style="width: 146px;display: inline-block"
                                              type="number"
                                              v-model="priceCalculation.adCost">
                                        <i slot='suffix'
                                           style="font-style: normal; margin-right: 10px; line-height: 36px">${{priceCalculation.currency}}</i>
                                    </el-input>
                                    <el-input @input="priceCalculationHandle('adCostCNY')" style="width: 160px;display: inline-block"
                                              type="number" v-model="priceCalculation.adCostCNY">
                                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">￥CNY</i>
                                    </el-input>
                                </el-form-item>
                                <el-form-item label-width="92px" label="毛利润">
                                    <el-tooltip content="毛利率=(售价-销售总成本)/售价×100%" effect="light" placement="top">
                                        <el-input @input="priceCalculationHandle('grossProfitRate')"
                                                  style="width: 90px;display: inline-block"
                                                  type="number"
                                                  v-model="priceCalculation.grossProfitRate">
                                            <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">%</i>
                                        </el-input>
                                    </el-tooltip>
                                    <el-input @input="priceCalculationHandle('grossProfit')" style="width: 146px;display: inline-block"
                                              type="number" v-model="priceCalculation.grossProfit">
                                        <i slot='suffix'
                                           style="font-style: normal; margin-right: 10px; line-height: 36px">${{priceCalculation.currency}}</i>
                                    </el-input>
                                    <el-input @input="priceCalculationHandle('grossProfitCNY')"
                                              style="width: 160px;display: inline-block"
                                              type="number"
                                              v-model="priceCalculation.grossProfitCNY">
                                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">￥CNY</i>
                                    </el-input>
                                </el-form-item>
                                <el-form-item label-width="92px" label="售价">
                                    <el-input style="width: 200px;display: inline-block" type="number" v-model="priceCalculation.price">
                                        <i slot='suffix'
                                           style="font-style: normal; margin-right: 10px; line-height: 36px">${{priceCalculation.currency}}</i>
                                    </el-input>
                                    <el-input style="width: 200px;display: inline-block" type="number"
                                              v-model="priceCalculation.priceCNY">
                                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">￥CNY</i>
                                    </el-input>
                                </el-form-item>
                            </div>
                        </el-form>
                    </div>
                </el-collapse-transition>
            </el-card>
        </el-col>
        <el-col>
            <el-card shadow="hover" body-style="padding: 0">
                <div slot="header" @click="show3 = !show3" class="cardHeader clickable-div waves-effect waves-light">
                    <span>其他</span>
                    <el-button class="right-positioned" type="text"><i :class="show3?'el-icon-arrow-up':'el-icon-arrow-down'"></i></el-button>
                </div>
                <el-collapse-transition>
                    <div v-show="show3" class="container">
                        <el-form label-width="auto">
                            <!--bid计算-->
                            <div class="divItem">
                                <label class="label-title">bid计算：</label>
                                <el-popover
                                        placement="top"
                                        trigger="hover">
                                    <label style="font-size: 18px;">* 基础CPC决定曝光量的大小</label><br/>
                                    <label style="font-size: 18px;">* bid+决定曝光的广告位置</label><br/>
                                    <label style="font-size: 18px;">* 当商品在某个广告位转化效果好时，可调整bid+让竞价接近广告位CPC，增加商品在该广告位的展示量</label><br/>
                                    <label style="font-size: 18px;">* bid计算：(广告位CPC/基础CPC-1)*100</label>
                                    <i slot="reference" class="el-icon-warning-outline"></i>
                                </el-popover>
                                <el-form-item label="基础CPC">
                                    <el-input style="width: 160px;display: inline-block" type="number" v-model="ads.basePrice" @input="bidCalculationHandle"></el-input>
                                </el-form-item>
                                <el-form-item label="广告位CPC">
                                    <el-input style="width: 160px;display: inline-block" type="number" v-model="ads.targetPrice" @input="bidCalculationHandle"></el-input>
                                </el-form-item>
                                <el-form-item label="BID+">
                                    <el-input style="width: 160px;display: inline-block" type="number" v-model="ads.bidRate">
                                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">%</i>
                                    </el-input>
                                </el-form-item>
                            </div>
                        </el-form>
                    </div>
                </el-collapse-transition>
            </el-card>
        </el-col>
    </el-row>
</div>
<!-- 引入Vue.js -->
<script src="https://linwenli95.github.io/onlineTools/js/vue.min.2.6.14.js"></script>
<script src="https://linwenli95.github.io/onlineTools/js/vue-lazyload v1.3.3.js"></script>
<!-- 引入Element UI的JavaScript库 -->
<script src="https://linwenli95.github.io/onlineTools/js/element-ui.js"></script>
<!-- 引入v0.7.6 Waves.js 的 JavaScript 文件 -->
<script src="js/waves.min.js"></script>
<script>
    let isDragging = false;
    let offsetX, offsetY;
    let draggedCoin;
    const coins = [];
    const collectionModule = document.getElementById('collectionModule');
    const coinCountElement = document.getElementById('coinCount');
    let coinCount = 0;
    let isDraggingModule = false;
    let startX, startY;
    let isEffectEnabled = true;
    const collectionBox = document.getElementById('collectionBox'); // 缓存收集箱元素

    // 开关按钮点击事件处理程序
    const toggleButton = document.getElementById('toggleButton');
    toggleButton.addEventListener('click', function () {
        isEffectEnabled =!isEffectEnabled;
        if (isEffectEnabled) {
            collectionModule.classList.remove('transparent');
            toggleButton.textContent = '关闭特效';
        } else {
            collectionModule.classList.add('transparent');
            toggleButton.textContent = '打开特效';
        }
        // 批量移除金币
        const fragment = document.createDocumentFragment();
        coins.forEach(coin => {
            fragment.appendChild(coin);
        });
        coins.length = 0;
        document.body.removeChild(fragment);
    });

    document.addEventListener('mousedown', function (event) {
        if (!isEffectEnabled) return;

        if (event.target.classList.contains('coin')) {
            isDragging = true;
            draggedCoin = event.target;
            const rect = draggedCoin.getBoundingClientRect();
            offsetX = event.clientX - rect.left;
            offsetY = event.clientY - rect.top;
        } else if (event.target.closest('#collectionModule')) {
            isDraggingModule = true;
            startX = event.clientX;
            startY = event.clientY;
            offsetX = collectionModule.offsetLeft;
            offsetY = collectionModule.offsetTop;
        } else if (event.target.id!== 'collectButton') {
            const coinCount = Math.floor(Math.random() * 11) + 10;
            const gravity = 0.5 * 4;

            const fragment = document.createDocumentFragment();
            for (let i = 0; i < coinCount; i++) {
                const coin = document.createElement('div');
                coin.classList.add('coin');

                const startX = event.pageX - 15;
                const startY = event.pageY - 15;

                const initialSpeed = Math.random() * 10 + 20;
                const angle = (Math.random() * (Math.PI / 3) + (Math.PI / 2 - Math.PI / 6));

                const vx = initialSpeed * Math.cos(angle);
                const vy = initialSpeed * Math.sin(angle);

                coin.style.left = startX + 'px';
                coin.style.top = startY + 'px';

                fragment.appendChild(coin);
                coins.push(coin);

                let t = 0;
                let isOnGround = false;

                let rotationAngle = 0;
                const randomAxisX = Math.random();
                const randomAxisY = Math.random();
                const randomAxisZ = Math.random();
                const rotationIncrement = 5;

                const animate = () => {
                    if (!isEffectEnabled ||!coin.parentNode) {
                        const index = coins.indexOf(coin);
                        if (index > -1) {
                            coins.splice(index, 1);
                        }
                        if (coin.parentNode) {
                            coin.parentNode.removeChild(coin);
                        }
                        return;
                    }

                    if (!isOnGround) {
                        t += 0.4;
                        let newX = startX + vx * t;
                        let newY = startY - (vy * t - 0.5 * gravity * t * t);

                        if (newY >= window.innerHeight - 30) {
                            // 检查下方是否有金币
                            let foundBelow = false;
                            coins.forEach(otherCoin => {
                                if (otherCoin!== coin) {
                                    const otherRect = otherCoin.getBoundingClientRect();
                                    const coinRect = coin.getBoundingClientRect();
                                    if (Math.abs(coinRect.left - otherRect.left) < 30 && otherRect.top > coinRect.top) {
                                        newY = otherRect.top - 15; // 嵌入一半
                                        foundBelow = true;
                                    }
                                }
                            });
                            if (!foundBelow) {
                                newY = window.innerHeight - 30;
                            }
                            isOnGround = true;
                        }

                        coin.style.left = newX + 'px';
                        coin.style.top = newY + 'px';
                    }

                    if (!isOnGround) {
                        rotationAngle += rotationIncrement;
                        coin.style.transform = `translate3d(0, 0, 0) rotate3d(${randomAxisX}, ${randomAxisY}, ${randomAxisZ}, ${rotationAngle}deg)`;
                        requestAnimationFrame(animate);
                    }
                };

                requestAnimationFrame(animate);
            }
            document.body.appendChild(fragment);
        }
    });

    document.addEventListener('mousemove', function (event) {
        if (!isEffectEnabled) return;

        if (isDragging) {
            draggedCoin.style.left = (event.clientX - offsetX) + 'px';
            draggedCoin.style.top = (event.clientY - offsetY) + 'px';
        } else if (isDraggingModule) {
            const dx = event.clientX - startX;
            const dy = event.clientY - startY;
            // 将横向移动量乘以 2
            collectionModule.style.left = (offsetX + dx * 2) + 'px';
            collectionModule.style.top = (offsetY + dy) + 'px';
        }
    });

    document.addEventListener('mouseup', function (event) {
        if (!isEffectEnabled) return;

        if (isDragging) {
            isDragging = false;
            const gravity = 0.5 * 4;
            const startX = parseFloat(draggedCoin.style.left);
            const startY = parseFloat(draggedCoin.style.top);
            let t = 0;
            let isOnGround = false;

            let rotationAngle = 0;
            const randomAxisX = Math.random();
            const randomAxisY = Math.random();
            const randomAxisZ = Math.random();
            const rotationIncrement = 5;

            const animateFall = () => {
                if (!isEffectEnabled ||!draggedCoin.parentNode) {
                    const index = coins.indexOf(draggedCoin);
                    if (index > -1) {
                        coins.splice(index, 1);
                    }
                    if (draggedCoin.parentNode) {
                        draggedCoin.parentNode.removeChild(draggedCoin);
                    }
                    draggedCoin = null;
                    return;
                }

                if (!isOnGround) {
                    t += 0.4; // 与爆金币下落的时间步长保持一致
                    let newX = startX; // 初速度为 0，水平位置不变
                    let newY = startY + 0.5 * gravity * t * t;

                    if (newY >= window.innerHeight - 30) {
                        // 检查下方是否有金币
                        let foundBelow = false;
                        coins.forEach(otherCoin => {
                            if (otherCoin!== draggedCoin) {
                                const otherRect = otherCoin.getBoundingClientRect();
                                const coinRect = draggedCoin.getBoundingClientRect();
                                if (Math.abs(coinRect.left - otherRect.left) < 30 && otherRect.top > coinRect.top) {
                                    newY = otherRect.top - 15; // 嵌入一半
                                    foundBelow = true;
                                }
                            }
                        });
                        if (!foundBelow) {
                            newY = window.innerHeight - 30;
                        }
                        isOnGround = true;
                    }

                    draggedCoin.style.left = newX + 'px';
                    draggedCoin.style.top = newY + 'px';
                }

                if (!isOnGround) {
                    rotationAngle += rotationIncrement;
                    draggedCoin.style.transform = `translate3d(0, 0, 0) rotate3d(${randomAxisX}, ${randomAxisY}, ${randomAxisZ}, ${rotationAngle}deg)`;
                    requestAnimationFrame(animateFall);
                } else {
                    // 金币落地后将 draggedCoin 置为 null
                    draggedCoin = null;
                }
            };

            requestAnimationFrame(animateFall);
        } else if (isDraggingModule) {
            isDraggingModule = false;
        }
    });

    document.getElementById('collectButton').addEventListener('click', function () {
        if (!isEffectEnabled) return;

        const interval = 20; // 设置每个金币动画的间隔时间，单位为毫秒
        // 每次点击收集按钮时，获取收集箱的最新位置
        const boxRect = collectionBox.getBoundingClientRect();
        // 遍历所有金币，为每个金币创建飞向收集箱的动画
        coins.forEach((coin, index) => {
            // 计算金币飞向收集箱的目标位置
            const targetX = boxRect.left + (boxRect.width - coin.offsetWidth) / 2;
            const targetY = boxRect.top + (boxRect.height - coin.offsetHeight) / 2;

            // 获取金币的起始位置
            const startX = parseFloat(coin.style.left);
            const startY = parseFloat(coin.style.top);

            // 初始化时间变量，用于控制动画进度
            let t = 0;
            // 动画持续时间（秒）
            const duration = 2;
            // 每秒的帧数
            const frames = 60;
            // 每帧的时间步长
            const step = 1 / (duration * frames);

            // 初始化旋转角度
            let rotationAngle = 0;
            // 旋转速度
            const rotationSpeed = 10;

            // 随机生成旋转轴
            const randomAxisX = Math.random();
            const randomAxisY = Math.random();
            const randomAxisZ = Math.random();

            // 定义动画函数，用于更新金币的位置和旋转角度
            const animateFly = () => {
                // 检查特效是否关闭或者金币是否已从 DOM 中移除
                if (!isEffectEnabled ||!coin.parentNode) {
                    // 从 coins 数组中移除该金币
                    const index = coins.indexOf(coin);
                    if (index > -1) {
                        coins.splice(index, 1);
                    }
                    // 从文档中删除该金币元素
                    if (coin.parentNode) {
                        coin.parentNode.removeChild(coin);
                    }
                    return;
                }

                // 检查动画是否未完成
                if (t < 1) {
                    // 增加时间步长
                    t += step;
                    // 计算当前帧的新位置
                    const newX = startX + (targetX - startX) * t;
                    const newY = startY + (targetY - startY) * t;

                    // 更新金币的位置
                    coin.style.left = newX + 'px';
                    coin.style.top = newY + 'px';

                    // 增加旋转角度
                    rotationAngle += rotationSpeed;
                    // 更新金币的旋转样式
                    coin.style.transform = `translate3d(0, 0, 0) rotate3d(${randomAxisX}, ${randomAxisY}, ${randomAxisZ}, ${rotationAngle}deg)`;

                    // 请求下一帧动画
                    requestAnimationFrame(animateFly);
                } else {
                    // 动画完成，将金币移动到目标位置
                    coin.style.left = targetX + 'px';
                    coin.style.top = targetY + 'px';
                    // 增加金币总数
                    coinCount++;
                    // 更新界面上显示的金币数量
                    coinCountElement.textContent = coinCount;
                    // 从 coins 数组中移除该金币
                    const index = coins.indexOf(coin);
                    if (index > -1) {
                        coins.splice(index, 1);
                    }
                    // 从文档中删除该金币元素
                    if (coin.parentNode) {
                        coin.parentNode.removeChild(coin);
                    }
                }
            };

            // 延迟一段时间后开始动画，实现金币逐个飞向收集箱的效果
            setTimeout(() => {
                requestAnimationFrame(animateFly);
            }, index * interval);
        });
    });
</script>
<script>
    // 初始化 Waves.js
    Waves.init();
    // 将波纹效果附加到指定的 div 元素上
    Waves.attach('.clickable-div', ['waves-light']);

    Vue.use(VueLazyload, {
      lazyComponent: true,
      observer: true, // 启用 IntersectionObserver
      observerOptions: {
        rootMargin: '0px',
        threshold: 0 // 完全进入视口时触发
      }
    })
    // 创建一个Vue实例
    new Vue({
        el: '#app',
        data: {
            show1: true,
            show2: true,
            show3: false,
            currencys: ['CNY', 'USD', 'CAD', 'MXN', 'BRL', 'GBP', 'EUR', 'SEK', 'PLN', 'TRY', 'JPY', 'SGD', 'AUD', 'AED', 'SAR', "RUB"],
            sizeAndWeightSpanNum: 4,
            costProfitSpanNum: 7,
            showFixedTextInput: true,// 显示或隐藏精确小数位文本输入框
            toFixedNum: 6,
            weight: {
                g: 0.0,
                kg: 0.0,
                lb: 0.0,
                oz: 0.0
            },
            size: {
                length: {
                    mm: 0,
                    cm: 0.0,
                    in: 0.0,
                    ft: 0.0
                },
                width: {
                    mm: 0,
                    cm: 0.0,
                    in: 0.0,
                    ft: 0.0
                },
                height: {
                    mm: 0,
                    cm: 0.0,
                    in: 0.0,
                    ft: 0.0
                }
            },
            volume: {
                cm: 0.0,
                m: 0.0,
                in: 0.0,
                ft: 0.0
            },
            rates: {
                CNY: 0.0,
                USD: 0.0,
                CAD: 0.0,
                MXN: 0.0,
                BRL: 0.0,
                GBP: 0.0,
                EUR: 0.0,
                SEK: 0.0,
                PLN: 0.0,
                TRY: 0.0,
                JPY: 0.0,
                SGD: 0.0,
                AUD: 0.0,
                AED: 0.0,
                SAR: 0.0
            },
            weightUnits: {
                g: 1,
                kg: 1000,
                lb: 453.592,
                oz: 28.3495
            },
            sizeUnits: {
                mm: 0.1,
                cm: 1,
                in: 2.54,
                ft: 30.48
            },
            volumeUnits: {
                mm: 0.001,
                cm: 1,
                m: 1000000,
                in: 16.387037,
                ft: 28316.8
            },
            sites: ['US', 'AU', 'JP', 'CA'],
            siteCurrencys: {
                US: 'USD',
                CA: 'CAD',
                MX: 'MXN',
                BR: 'BRL',
                UK: 'GBP',
                JP: 'JPY',
                SG: 'SGD',
                AU: 'AUD',
                AE: 'AED',
                SA: 'SAR'
            },
            siteName: 'US',
            sizeTypes: {
                US: {
                    Small: {// 小号标准尺寸
                        name: '小号标准尺寸',
                        side: {//边长标准
                            longestSide: 15,// 最长边不超过15英寸
                            secondSide: 12,// 次长边不超过12英寸
                            shortestSide: 0.75,// 最短边不超过0.75英寸
                            unit: 'in'
                        },
                        weight: {
                            from0To2: {
                                start: 0,
                                end: 2,// 不超过2盎司
                                unit: 'oz',
                                lowPriceDeliveryFee: 2.29,// 售价不超过10刀的低价商品FBA配送费
                                standardDeliveryFee: 3.06// 售价超过10刀的标准商品FBA配送费
                            },
                            from2To4: {
                                start: 2,
                                end: 4,
                                unit: 'oz',
                                lowPriceDeliveryFee: 2.38,
                                standardDeliveryFee: 3.15
                            },
                            from4To6: {
                                start: 4,
                                end: 6,
                                unit: 'oz',
                                lowPriceDeliveryFee: 2.47,
                                standardDeliveryFee: 3.24
                            },
                            from6To8: {
                                start: 6,
                                end: 8,
                                unit: 'oz',
                                lowPriceDeliveryFee: 2.56,
                                standardDeliveryFee: 3.33
                            },
                            from8To10: {
                                start: 8,
                                end: 10,
                                unit: 'oz',
                                lowPriceDeliveryFee: 2.66,
                                standardDeliveryFee: 3.43
                            },
                            from10To12: {
                                start: 10,
                                end: 12,
                                unit: 'oz',
                                lowPriceDeliveryFee: 2.76,
                                standardDeliveryFee: 3.53
                            },
                            from12To14: {
                                start: 12,
                                end: 14,
                                unit: 'oz',
                                lowPriceDeliveryFee: 2.83,
                                standardDeliveryFee: 3.60
                            },
                            from14To16: {
                                start: 14,
                                end: 16,
                                unit: 'oz',
                                lowPriceDeliveryFee: 2.88,
                                standardDeliveryFee: 3.65
                            }
                        }
                    },
                    Large: {// 大号标准尺寸
                        name: '大号标准尺寸',
                        side: {//边长标准
                            longestSide: 18,
                            secondSide: 14,
                            shortestSide: 8,
                            unit: 'in'
                        },
                        weight: {
                            from0To4: {
                                start: 0,
                                end: 4,// 不超过4盎司
                                unit: 'oz',
                                lowPriceDeliveryFee: 2.91,// 售价不超过10刀的低价商品FBA配送费
                                standardDeliveryFee: 3.68// 售价超过10刀的标准商品FBA配送费
                            },
                            from4To8: {
                                start: 4,
                                end: 8,
                                unit: 'oz',
                                lowPriceDeliveryFee: 3.13,// 售价不超过10刀的低价商品FBA配送费
                                standardDeliveryFee: 3.90// 售价超过10刀的标准商品FBA配送费
                            },
                            from8To12: {
                                start: 8,
                                end: 12,
                                unit: 'oz',
                                lowPriceDeliveryFee: 3.38,// 售价不超过10刀的低价商品FBA配送费
                                standardDeliveryFee: 4.15// 售价超过10刀的标准商品FBA配送费
                            },
                            from12To16: {
                                start: 12,
                                end: 16,// 不超过16盎司
                                unit: 'oz',
                                lowPriceDeliveryFee: 3.78,// 售价不超过10刀的低价商品FBA配送费
                                standardDeliveryFee: 4.55// 售价超过10刀的标准商品FBA配送费
                            },
                            from100To125: {
                                start: 1,
                                end: 1.25,// 不超过1.25磅
                                unit: 'lb',
                                lowPriceDeliveryFee: 4.22,// 售价不超过10刀的低价商品FBA配送费
                                standardDeliveryFee: 4.99// 售价超过10刀的标准商品FBA配送费
                            },
                            from125To150: {
                                start: 1.25,
                                end: 1.5,
                                unit: 'lb',
                                lowPriceDeliveryFee: 4.60,// 售价不超过10刀的低价商品FBA配送费
                                standardDeliveryFee: 5.37// 售价超过10刀的标准商品FBA配送费
                            },
                            from150To175: {
                                start: 1.5,
                                end: 1.75,
                                unit: 'lb',
                                lowPriceDeliveryFee: 4.75,// 售价不超过10刀的低价商品FBA配送费
                                standardDeliveryFee: 5.52// 售价超过10刀的标准商品FBA配送费
                            },
                            from175To200: {
                                start: 1.75,
                                end: 2,
                                unit: 'lb',
                                lowPriceDeliveryFee: 5.00,// 售价不超过10刀的低价商品FBA配送费
                                standardDeliveryFee: 5.77// 售价超过10刀的标准商品FBA配送费
                            },
                            from200To225: {
                                start: 2,
                                end: 2.25,
                                unit: 'lb',
                                lowPriceDeliveryFee: 5.10,// 售价不超过10刀的低价商品FBA配送费
                                standardDeliveryFee: 5.87// 售价超过10刀的标准商品FBA配送费
                            },
                            from225To250: {
                                start: 2.25,
                                end: 2.5,
                                unit: 'lb',
                                lowPriceDeliveryFee: 5.28,// 售价不超过10刀的低价商品FBA配送费
                                standardDeliveryFee: 6.05// 售价超过10刀的标准商品FBA配送费
                            },
                            from250To275: {
                                start: 2.5,
                                end: 2.75,
                                unit: 'lb',
                                lowPriceDeliveryFee: 5.44,// 售价不超过10刀的低价商品FBA配送费
                                standardDeliveryFee: 6.21// 售价超过10刀的标准商品FBA配送费
                            },
                            from275To300: {
                                start: 2.75,
                                end: 3,
                                unit: 'lb',
                                lowPriceDeliveryFee: 5.85,// 售价不超过10刀的低价商品FBA配送费
                                standardDeliveryFee: 6.62// 售价超过10刀的标准商品FBA配送费
                            },
                            from300To2000: {
                                start: 3,
                                end: 20,// 不超过20磅
                                unit: 'lb',
                                lowPriceDeliveryFee: 6.15,// 售价不超过10刀的低价商品FBA配送费
                                standardDeliveryFee: 6.92,// 售价超过10刀的标准商品FBA配送费
                                excessWeight: {
                                    unit: 'oz',
                                    segmentation: 4, // 超出首重 3 磅的部分，每 4 盎司 $0.08
                                    surcharge: 0.08// 超重部分附加费
                                }
                            }
                        }
                    },
                    LargeLarge: {// 大号大件
                        name: '大号大件',
                        side: {
                            longestSide: 59,
                            secondSide: 33,
                            shortestSide: 33,
                            unit: 'in'
                            // 另外要求长度+围长不超过 130 英寸，此处不进行处理
                        },
                        weight: {
                            from0To50: {
                                start: 0,
                                end: 50,
                                unit: 'lb',
                                lowPriceDeliveryFee: 8.84,// 售价不超过10刀的低价商品FBA配送费
                                standardDeliveryFee: 9.61,// 售价超过10刀的标准商品FBA配送费
                                excessWeight: {
                                    unit: 'lb',
                                    segmentation: 1, // 超出首磅的部分，每磅 $0.38
                                    surcharge: 0.38// 超重部分附加费
                                }
                            }
                        }
                    },
                    Oversized: {// 超大件
                        name: '超大件',
                        side: {
                            longestSide: 59,
                            secondSide: 33,
                            shortestSide: 33,
                            unit: 'in'
                            // 另外要求长度+围长不超过 130 英寸，此处不进行处理
                        },
                        weight: {
                            from0To50: {
                                start: 0,
                                end: 50,
                                unit: 'lb',
                                lowPriceDeliveryFee: 25.56,// 售价不超过10刀的低价商品FBA配送费
                                standardDeliveryFee: 26.33,// 售价超过10刀的标准商品FBA配送费
                                excessWeight: {
                                    unit: 'lb',
                                    segmentation: 1, // 超出首磅的部分，每磅 $0.38
                                    surcharge: 0.38// 超重部分附加费
                                }
                            },
                            from50To70: {
                                start: 50,
                                end: 70,
                                unit: 'lb',
                                lowPriceDeliveryFee: 39.35,// 售价不超过10刀的低价商品FBA配送费
                                standardDeliveryFee: 40.12,// 售价超过10刀的标准商品FBA配送费
                                excessWeight: {
                                    unit: 'lb',
                                    segmentation: 1, // 超出首重的部分，每磅 $0.38
                                    surcharge: 0.75// 超重部分附加费
                                }
                            },
                            from70To150: {
                                start: 70,
                                end: 150,
                                unit: 'lb',
                                lowPriceDeliveryFee: 54.04,// 售价不超过10刀的低价商品FBA配送费
                                standardDeliveryFee: 54.81,// 售价超过10刀的标准商品FBA配送费
                                excessWeight: {
                                    unit: 'lb',
                                    segmentation: 1, // 超出首重的部分，每磅 $0.75
                                    surcharge: 0.75// 超重部分附加费
                                }
                            },
                            from150To999: {
                                start: 150,
                                end: 999,
                                unit: 'lb',
                                lowPriceDeliveryFee: 194.18,// 售价不超过10刀的低价商品FBA配送费
                                standardDeliveryFee: 194.95,// 售价超过10刀的标准商品FBA配送费
                                excessWeight: {
                                    unit: 'lb',
                                    segmentation: 1, // 超出首重的部分，每磅 $0.38
                                    surcharge: 0.19// 超重部分附加费
                                }
                            }
                        }
                    },
                },
                AU: {
                    '小号信封': {
                        name: '小号信封',
                        side: {//边长标准
                            longestSide: 20,// 最长边
                            secondSide: 15,// 次长边
                            shortestSide: 1,// 最短边
                            unit: 'cm'
                        },
                        weight: {
                            from0To75: {
                                start: 0,
                                end: 75,
                                unit: 'g',
                                lowPriceDeliveryFee: 3.36,// 售价不超过13澳元的低价商品FBA配送费
                                standardDeliveryFee: 4.27// 售价超过13澳元的标准商品FBA配送费
                            }
                        }
                    },
                    '标准信封': {
                        name: '标准信封',
                        side: {//边长标准
                            longestSide: 33,// 最长边
                            secondSide: 23,// 次长边
                            shortestSide: 2.5,// 最短边
                            unit: 'cm'
                        },
                        weight: {
                            from0to75: {start: 0,end: 75, unit: 'g',lowPriceDeliveryFee: 3.36,standardDeliveryFee: 4.27},
                            from76to225: {start: 75,end: 225, unit: 'g',lowPriceDeliveryFee: 3.9,standardDeliveryFee: 4.81},
                            from226to475: {start: 225,end: 475, unit: 'g',lowPriceDeliveryFee: 4.45,standardDeliveryFee: 5.36}
                        }
                    },
                    '大号信封': {
                        name: '大号信封',
                        side: {//边长标准
                            longestSide: 33,// 最长边
                            secondSide: 23,// 次长边
                            shortestSide: 5,// 最短边
                            unit: 'cm'
                        },
                        weight: {
                            from0to225: {start: 0,end: 225, unit: 'g',lowPriceDeliveryFee: 5.41,standardDeliveryFee: 6.32},
                            from226to475: {start: 225,end: 475, unit: 'g',lowPriceDeliveryFee: 5.8,standardDeliveryFee: 6.71},
                            from476to975: {start: 475,end: 975, unit: 'g',lowPriceDeliveryFee: 7.37,standardDeliveryFee: 8.28}
                        }
                    },
                    '包裹': {
                        name: '包裹',
                        side: {//边长标准
                            longestSide: 45,// 最长边
                            secondSide: 34,// 次长边
                            shortestSide: 20,// 最短边
                            unit: 'cm'
                        },
                        weight: {
                            from0to250: {start: 0,end: 250, unit: 'g',lowPriceDeliveryFee: 5.89,standardDeliveryFee: 6.8},
                            from251to500: {start: 250,end: 500, unit: 'g',lowPriceDeliveryFee: 6.39,standardDeliveryFee: 7.3},
                            from501to1000: {start: 500,end: 1000, unit: 'g',lowPriceDeliveryFee: 7.98,standardDeliveryFee: 8.89},
                            from1001to1500: {start: 1000,end: 1500, unit: 'g',lowPriceDeliveryFee: 8.36,standardDeliveryFee: 9.27},
                            from1501to2000: {start: 1500,end: 2000, unit: 'g',lowPriceDeliveryFee: 8.8,standardDeliveryFee: 9.71},
                            from2001to3000: {start: 2000,end: 3000, unit: 'g',lowPriceDeliveryFee: 9.26,standardDeliveryFee: 10.17},
                            from3001to4000: {start: 3000,end: 4000, unit: 'g',lowPriceDeliveryFee: 10.04,standardDeliveryFee: 10.95},
                            from4001to5000: {start: 4000,end: 5000, unit: 'g',lowPriceDeliveryFee: 10.05,standardDeliveryFee: 10.96},
                            from5001to6000: {start: 5000,end: 6000, unit: 'g',lowPriceDeliveryFee: 10.08,standardDeliveryFee: 10.99},
                            from6001to7000: {start: 6000,end: 7000, unit: 'g',lowPriceDeliveryFee: 10.14,standardDeliveryFee: 11.05},
                            from7001to8000: {start: 7000,end: 8000, unit: 'g',lowPriceDeliveryFee: 10.18,standardDeliveryFee: 11.09},
                            from8001to9000: {start: 8000,end: 9000, unit: 'g',lowPriceDeliveryFee: 10.29,standardDeliveryFee: 11.2},
                            from9001to10000: {start: 9000,end: 10000, unit: 'g',lowPriceDeliveryFee: 10.29,standardDeliveryFee: 11.2},
                            from10001to11000: {start: 10000,end: 11000, unit: 'g',lowPriceDeliveryFee: 11.52,standardDeliveryFee: 12.43},
                            from11001to12000: {start: 11000,end: 12000, unit: 'g',lowPriceDeliveryFee: 11.75,standardDeliveryFee: 12.66}
                        }
                    },
                    '小号大件': {
                        name: '小号大件',
                        side: {//边长标准
                            longestSide: 61,// 最长边
                            secondSide: 46,// 次长边
                            shortestSide: 46,// 最短边
                            unit: 'cm'
                        },
                        weight: {
                            from0to1000: {start: 0,end: 1000, unit: 'g',lowPriceDeliveryFee: 8.92,standardDeliveryFee: 9.83},
                            from1001to1250: {start: 1000,end: 1250, unit: 'g',lowPriceDeliveryFee: 9.09,standardDeliveryFee: 10},
                            from1251to1500: {start: 1250,end: 1500, unit: 'g',lowPriceDeliveryFee: 9.77,standardDeliveryFee: 10.68},
                            from1501to1750: {start: 1500,end: 1750, unit: 'g',lowPriceDeliveryFee: 10.29,standardDeliveryFee: 11.2},
                            from1751to2000: {start: 1750,end: 2000, unit: 'g',lowPriceDeliveryFee: 10.29,standardDeliveryFee: 11.2},
                            // 重量超过 23 千克的商品，禁止使用亚马逊物流配送
                            from2001to23000: {
                                start: 2000,
                                end: 23000,
                                unit: 'g',
                                lowPriceDeliveryFee: 10.59,
                                standardDeliveryFee: 11.5,
                                excessWeight: {
                                    unit: 'kg',
                                    segmentation: 1, // 首重2kg，超重部分收附加费
                                    surcharge: 0.01// 超重部分附加费 0.01澳元/kg
                                }
                            }
                        }
                    },
                    '标准大件': {
                        name: '标准大件',
                        side: {//边长标准
                            longestSide: 105,// 最长边
                            secondSide: 60,// 次长边
                            shortestSide: 60,// 最短边
                            unit: 'cm'
                        },
                        weight: {
                            from0to1000: {start: 0,end: 1000, unit: 'g',lowPriceDeliveryFee: 11.03,standardDeliveryFee: 11.94},
                            from1001to2000: {start: 1000,end: 2000, unit: 'g',lowPriceDeliveryFee: 11.65,standardDeliveryFee: 12.56},
                            from2001to3000: {start: 2000,end: 3000, unit: 'g',lowPriceDeliveryFee: 11.94,standardDeliveryFee: 12.85},
                            from3001to4000: {start: 3000,end: 4000, unit: 'g',lowPriceDeliveryFee: 11.97,standardDeliveryFee: 12.88},
                            from4001to5000: {start: 4000,end: 5000, unit: 'g',lowPriceDeliveryFee: 12.42,standardDeliveryFee: 13.33},
                            from5001to6000: {start: 5000,end: 6000, unit: 'g',lowPriceDeliveryFee: 12.72,standardDeliveryFee: 13.63},
                            from6001to7000: {start: 6000,end: 7000, unit: 'g',lowPriceDeliveryFee: 12.73,standardDeliveryFee: 13.64},
                            from7001to8000: {start: 7000,end: 8000, unit: 'g',lowPriceDeliveryFee: 12.75,standardDeliveryFee: 13.66},
                            from8001to9000: {start: 8000,end: 9000, unit: 'g',lowPriceDeliveryFee: 13.01,standardDeliveryFee: 13.92},
                            from9001to10000: {start: 9000,end: 10000, unit: 'g',lowPriceDeliveryFee: 13.21,standardDeliveryFee: 14.12},
                            from10001to15000: {start: 10000,end: 15000, unit: 'g',lowPriceDeliveryFee: 14.27,standardDeliveryFee: 15.18},
                            from15001to20000: {start: 15000,end: 20000, unit: 'g',lowPriceDeliveryFee: 15.4,standardDeliveryFee: 16.31},
                            from20001to22000: {start: 20000,end: 22000, unit: 'g',lowPriceDeliveryFee: 15.74,standardDeliveryFee: 16.65},
                            // 重量超过 23 千克的商品，禁止使用亚马逊物流配送
                            from22000to23000: {
                                start: 22000,
                                end: 23000,
                                unit: 'g',
                                lowPriceDeliveryFee: 15.94,
                                standardDeliveryFee: 16.85,
                                excessWeight: {
                                    unit: 'kg',
                                    segmentation: 1, // 首重22kg，超重部分收附加费
                                    surcharge: 0.01// 超重部分附加费 0.01澳元/kg
                                }
                            }
                        }
                    },
                    '大号大件': {
                        name: '大号大件',
                        side: {//边长标准  对于尺寸超过 116 厘米 x 116 厘米 x 102 厘米或重量超过 23 千克的商品，禁止使用亚马逊物流配送
                            longestSide: 116,// 最长边
                            secondSide: 116,// 次长边
                            shortestSide: 102,// 最短边
                            unit: 'cm'
                        },
                        weight: {
                            from0to5000: {start: 0,end: 5000, unit: 'g',lowPriceDeliveryFee: 12.46,standardDeliveryFee: 13.37},
                            from5001to10000: {start: 5000,end: 10000, unit: 'g',lowPriceDeliveryFee: 12.92,standardDeliveryFee: 13.83},
                            from10001to15000: {start: 10000,end: 15000, unit: 'g',lowPriceDeliveryFee: 14.33,standardDeliveryFee: 15.24},
                            from15001to20000: {start: 15000,end: 20000, unit: 'g',lowPriceDeliveryFee: 15.95,standardDeliveryFee: 16.86},
                            from20001to25000: {start: 20000,end: 25000, unit: 'g',lowPriceDeliveryFee: 18.04,standardDeliveryFee: 18.95},
                            from25001to30000: {start: 25000,end: 30000, unit: 'g',lowPriceDeliveryFee: 19.09,standardDeliveryFee: 20},
                            from30001to35000: {start: 30000,end: 35000, unit: 'g',lowPriceDeliveryFee: 24.09,standardDeliveryFee: 25}
                        }
                    },
                    '超大件': {
                        name: '超大件',
                        side: {//边长标准
                            longestSide: 116,// 最长边
                            secondSide: 116,// 次长边
                            shortestSide: 102,// 最短边
                            unit: 'cm'
                        },
                        weight: {
                            from0to35000: {
                                start: 0,
                                end: 35000,
                                unit: 'g',
                                lowPriceDeliveryFee: 64.09,
                                standardDeliveryFee: 65
                            }
                        }
                    }
                },
                JP: {
                    '小号': {
                        name: '小号',
                        side: {//边长标准
                            longestSide: 25,// 最长边
                            secondSide: 18,// 次长边
                            shortestSide: 2,// 最短边
                            unit: 'cm'
                        },
                        weight: {
                            from0To250: {
                                start: 0,
                                end: 250,
                                unit: 'g',
                                lowPriceDeliveryFee: 222,// 售价不超过1000日元的低价商品FBA配送费
                                standardDeliveryFee: 288// 售价超过1000日元的标准商品FBA配送费
                            }
                        }
                    },
                    '标准尺寸1': {
                        name: '标准尺寸1',
                        side: {//边长标准
                            longestSide: 35,// 最长边
                            secondSide: 30,// 次长边
                            shortestSide: 3.3,// 最短边
                            unit: 'cm'
                        },
                        weight: {
                            from0To250: {
                                start: 0,
                                end: 250,
                                unit: 'g',
                                lowPriceDeliveryFee: 252,// 售价不超过1000日元的低价商品FBA配送费
                                standardDeliveryFee: 318// 售价超过1000日元的标准商品FBA配送费
                            },
                            from250To1000: {
                                start: 250,
                                end: 1000,
                                unit: 'g',
                                lowPriceDeliveryFee: 252,// 售价不超过1000日元的低价商品FBA配送费
                                standardDeliveryFee: 318// 售价超过1000日元的标准商品FBA配送费
                            }
                        }
                    },
                    '标准尺寸2': {name: '标准尺寸2', side: {longestSide: 20, secondSide: 0, shortestSide: 0, unit: 'cm'}, weight: {from0to2000: {start: 0, end: 2000, unit: 'g',lowPriceDeliveryFee: 347,standardDeliveryFee: 413}}},
                    '标准尺寸3': {name: '标准尺寸3', side: {longestSide: 30, secondSide: 0, shortestSide: 0, unit: 'cm'}, weight: {from0to2000: {start: 0, end: 2000, unit: 'g',lowPriceDeliveryFee: 368,standardDeliveryFee: 434}}},
                    '标准尺寸4': {name: '标准尺寸4', side: {longestSide: 40, secondSide: 0, shortestSide: 0, unit: 'cm'}, weight: {from0to2000: {start: 0, end: 2000, unit: 'g',lowPriceDeliveryFee: 389,standardDeliveryFee: 455}}},
                    '标准尺寸5': {name: '标准尺寸5', side: {longestSide: 50, secondSide: 0, shortestSide: 0, unit: 'cm'}, weight: {from0to2000: {start: 0, end: 2000, unit: 'g',lowPriceDeliveryFee: 399,standardDeliveryFee: 465}}},
                    '标准尺寸6': {name: '标准尺寸6', side: {longestSide: 60, secondSide: 0, shortestSide: 0, unit: 'cm'}, weight: {from0to2000: {start: 0, end: 2000, unit: 'g',lowPriceDeliveryFee: 419,standardDeliveryFee: 485}}},
                    '标准尺寸7': {name: '标准尺寸7', side: {longestSide: 80, secondSide: 0, shortestSide: 0, unit: 'cm'}, weight: {from0to5000: {start: 0, end: 5000, unit: 'g',lowPriceDeliveryFee: 448,standardDeliveryFee: 514}}},
                    '标准尺寸8': {name: '标准尺寸8', side: {longestSide: 100, secondSide: 0, shortestSide: 0, unit: 'cm'}, weight: {from0to9000: {start: 0, end: 9000, unit: 'g',lowPriceDeliveryFee: 537,standardDeliveryFee: 603}}},
                    '大件商品1': {name: '大件商品1', side: {longestSide: 60, secondSide: 0, shortestSide: 0, unit: 'cm'}, weight: {from0to2000: {start: 0, end: 2000, unit: 'g',lowPriceDeliveryFee: 523,standardDeliveryFee: 589}}},
                    '大件商品2': {name: '大件商品2', side: {longestSide: 80, secondSide: 0, shortestSide: 0, unit: 'cm'}, weight: {from0to5000: {start: 0, end: 5000, unit: 'g',lowPriceDeliveryFee: 646,standardDeliveryFee: 712}}},
                    '大件商品3': {name: '大件商品3', side: {longestSide: 100, secondSide: 0, shortestSide: 0, unit: 'cm'}, weight: {from0to10000: {start: 0, end: 10000, unit: 'g',lowPriceDeliveryFee: 749,standardDeliveryFee: 815}}},
                    '大件商品4': {name: '大件商品4', side: {longestSide: 120, secondSide: 0, shortestSide: 0, unit: 'cm'}, weight: {from0to15000: {start: 0, end: 15000, unit: 'g',lowPriceDeliveryFee: 909,standardDeliveryFee: 975}}},
                    '大件商品5': {name: '大件商品5', side: {longestSide: 140, secondSide: 0, shortestSide: 0, unit: 'cm'}, weight: {from0to20000: {start: 0, end: 20000, unit: 'g',lowPriceDeliveryFee: 954,standardDeliveryFee: 1020}}},
                    '大件商品6': {name: '大件商品6', side: {longestSide: 160, secondSide: 0, shortestSide: 0, unit: 'cm'}, weight: {from0to25000: {start: 0, end: 25000, unit: 'g',lowPriceDeliveryFee: 1034,standardDeliveryFee: 1100}}},
                    '大件商品7': {name: '大件商品7', side: {longestSide: 180, secondSide: 0, shortestSide: 0, unit: 'cm'}, weight: {from0to30000: {start: 0, end: 30000, unit: 'g',lowPriceDeliveryFee: 1466,standardDeliveryFee: 1532}}},
                    '大件商品8': {name: '大件商品8', side: {longestSide: 200, secondSide: 0, shortestSide: 0, unit: 'cm'}, weight: {from0to40000: {start: 0, end: 40000, unit: 'g',lowPriceDeliveryFee: 1690,standardDeliveryFee: 1756}}},
                    '超大尺寸1': {name: '超大尺寸1', side: {longestSide: 200, secondSide: 0, shortestSide: 0, unit: 'cm'}, weight: {from0to50000: {start: 0, end: 50000, unit: 'g',lowPriceDeliveryFee: 2689,standardDeliveryFee: 2755}}},
                    '超大尺寸2': {name: '超大尺寸2', side: {longestSide: 220, secondSide: 0, shortestSide: 0, unit: 'cm'}, weight: {from0to50000: {start: 0, end: 50000, unit: 'g',lowPriceDeliveryFee: 3507,standardDeliveryFee: 3573}}},
                    '超大尺寸3': {name: '超大尺寸3', side: {longestSide: 240, secondSide: 0, shortestSide: 0, unit: 'cm'}, weight: {from0to50000: {start: 0, end: 50000, unit: 'g',lowPriceDeliveryFee: 4430,standardDeliveryFee: 4496}}},
                    '超大尺寸4': {name: '超大尺寸4', side: {longestSide: 260, secondSide: 0, shortestSide: 0, unit: 'cm'}, weight: {from0to50000: {start: 0, end: 50000, unit: 'g',lowPriceDeliveryFee: 5559,standardDeliveryFee: 5625}}}
                },
                CA: {
                    '信封尺寸': {
                        name: '信封尺寸',
                        side: {//边长标准
                            longestSide: 38,// 最长边
                            secondSide: 27,// 次长边
                            shortestSide: 2,// 最短边
                            unit: 'cm'
                        },
                        weight: {
                            from0To100: {start: 0, end: 100, unit: 'g', lowPriceDeliveryFee: 4.73, standardDeliveryFee: 3.66 },
                            from100To200: {start: 100, end: 200, unit: 'g', lowPriceDeliveryFee: 4.99, standardDeliveryFee: 3.91 },
                            from200To300: {start: 200, end: 300, unit: 'g', lowPriceDeliveryFee: 5.31, standardDeliveryFee: 4.21 },
                            from300To400: {start: 300, end: 400, unit: 'g', lowPriceDeliveryFee: 5.6, standardDeliveryFee: 4.48 },
                            from400To500: {start: 400, end: 500, unit: 'g', lowPriceDeliveryFee: 5.95, standardDeliveryFee: 4.82 }
                        }
                    },
                    '标准尺寸': {
                        name: '标准尺寸',
                        side: {//边长标准
                            longestSide: 45,// 最长边
                            secondSide: 35,// 次长边
                            shortestSide: 20,// 最短边
                            unit: 'cm'
                        },
                        weight: {
                            from0To100: {start: 0, end: 100, unit: 'g', lowPriceDeliveryFee: 6.28, standardDeliveryFee: 5.12 },
                            from100To200: {start: 100, end: 200, unit: 'g', lowPriceDeliveryFee: 6.49, standardDeliveryFee: 5.32 },
                            from200To300: {start: 200, end: 300, unit: 'g', lowPriceDeliveryFee: 6.74, standardDeliveryFee: 5.56 },
                            from300To400: {start: 300, end: 400, unit: 'g', lowPriceDeliveryFee: 7.13, standardDeliveryFee: 5.93 },
                            from400To500: {start: 400, end: 500, unit: 'g', lowPriceDeliveryFee: 7.67, standardDeliveryFee: 6.43 },
                            from500To600: {start: 500, end: 600, unit: 'g', lowPriceDeliveryFee: 7.84, standardDeliveryFee: 6.6 },
                            from600To700: {start: 600, end: 700, unit: 'g', lowPriceDeliveryFee: 8.17, standardDeliveryFee: 6.91 },
                            from700To800: {start: 700, end: 800, unit: 'g', lowPriceDeliveryFee: 8.43, standardDeliveryFee: 7.15 },
                            from800To900: {start: 800, end: 900, unit: 'g', lowPriceDeliveryFee: 8.74, standardDeliveryFee: 7.45 },
                            from900To1000: {start: 900, end: 1000, unit: 'g', lowPriceDeliveryFee: 8.99, standardDeliveryFee: 7.69 },
                            from1000To1100: {start: 1000, end: 1100, unit: 'g', lowPriceDeliveryFee: 9.1, standardDeliveryFee: 7.78 },
                            from1100To1200: {start: 1100, end: 1200, unit: 'g', lowPriceDeliveryFee: 9.37, standardDeliveryFee: 8.04 },
                            from1200To1300: {start: 1200, end: 1300, unit: 'g', lowPriceDeliveryFee: 9.58, standardDeliveryFee: 8.24 },
                            from1300To1400: {start: 1300, end: 1400, unit: 'g', lowPriceDeliveryFee: 9.85, standardDeliveryFee: 8.49 },
                            from1400To1500: {start: 1400, end: 1500, unit: 'g', lowPriceDeliveryFee: 10.17, standardDeliveryFee: 8.8 },
                            from1500To9000: {start: 1500, end: 9000, unit: 'g', lowPriceDeliveryFee: 11, standardDeliveryFee: 9.52,
                                excessWeight: {
                                    unit: 'g',
                                    segmentation: 100, // 首重1500g，超重部分收附加费
                                    surcharge: 0.09// 超重部分附加费 0.09加元/100g
                                }
                            }
                        }
                    },
                    '小号大件': {
                        name: '小号大件',
                        side: {//边长标准
                            longestSide: 152,// 最长边
                            secondSide: 76,// 次长边
                            shortestSide: 0,// 最短边
                            unit: 'cm'
                        },
                        weight: {
                            from0To500: {start: 0, end: 500, unit: 'g', lowPriceDeliveryFee: 16.77, standardDeliveryFee: 14.63 },
                            from500To32000: {start: 500, end: 32000, unit: 'g', lowPriceDeliveryFee: 16.77, standardDeliveryFee: 14.63,
                                excessWeight: {
                                    unit: 'g',
                                    segmentation: 500,
                                    surcharge: 0.46
                                }
                            }
                        }
                    },
                    '中号大件': {
                        name: '中号大件',
                        side: {//边长标准
                            longestSide: 270,// 最长边
                            secondSide: 0,// 次长边
                            shortestSide: 0,// 最短边
                            unit: 'cm'
                        },
                        weight: {
                            from0To500: {start: 0, end: 500, unit: 'g', lowPriceDeliveryFee: 41.64, standardDeliveryFee: 36.98 },
                            from500To68000: {start: 500, end: 68000, unit: 'g', lowPriceDeliveryFee: 41.64, standardDeliveryFee: 36.98,
                                excessWeight: {
                                    unit: 'g',
                                    segmentation: 500,
                                    surcharge: 0.52
                                }
                            }
                        }
                    },
                    '大号大件': {
                        name: '大号大件',
                        side: {//边长标准
                            longestSide: 270,// 最长边
                            secondSide: 0,// 次长边
                            shortestSide: 0,// 最短边
                            unit: 'cm'
                        },
                        weight: {
                            from0To500: {start: 0, end: 500, unit: 'g', lowPriceDeliveryFee: 89.59, standardDeliveryFee: 81.4 },
                            from500To68000: {start: 500, end: 68000, unit: 'g', lowPriceDeliveryFee: 89.59, standardDeliveryFee: 81.4,
                                excessWeight: {
                                    unit: 'g',
                                    segmentation: 500,
                                    surcharge: 0.58
                                }
                            }
                        }
                    },
                    '特殊大件': {
                        name: '特殊大件',
                        side: {//边长标准
                            longestSide: 0,// 最长边
                            secondSide: 0,// 次长边
                            shortestSide: 0,// 最短边
                            unit: 'cm'
                        },
                        weight: {
                            from0To500: {start: 0, end: 500, unit: 'g', lowPriceDeliveryFee: 166.85, standardDeliveryFee: 149.98 },
                            from500To99999: {start: 500, end: 99999, unit: 'g', lowPriceDeliveryFee: 166.85, standardDeliveryFee: 149.98,
                                excessWeight: {
                                    unit: 'g',
                                    segmentation: 500,
                                    surcharge: 0.58
                                }
                            }
                        }
                    }
                }
            },
            sizeType: {},
            rateUnits: {},
            classification: '',
            highClassification: '',
            lowPriceDeliveryFee: 0.0,// 售价不超过10刀的低价商品FBA配送费
            standardDeliveryFee: 0.0,// 标准配送费
            highStandardDeliveryFee: 0.0,// 标准配送费
            FBADeliveryFee: {// 标准配送费
                lowPrice: 0.0,// 售价不超过10刀的低价商品FBA配送费
                standard: 0.0,// 标准配送费
                highLowPrice: 0.0,// 高一档低价配送费
                highStandard: 0.0// 高一档标准配送费
            },
            <!--售价毛利润计算参数-->
            profitCalculation: {
                price: 0,// 售价 指定币种
                priceCNY: 0,// 售价 人民币
                commissionRate: 15,// 佣金比例
                commission: 0,// 佣金 指定币种
                commissionCNY: 0,// 佣金 人民币
                deliverFee: 0,// 配送费 指定币种
                deliverFeeCNY: 0,// 配送费 人民币
                adRate: 0,// 广告费比例
                adCost: 0,// 广告费 指定币种
                adCostCNY: 0,// 广告费 人民币
                purchasingCost: 0,// 采购成本 指定币种
                purchasingCostCNY: 0,// 采购成本 人民币
                grossProfit: 0,// 毛利润 指定币种
                grossProfitCNY: 0,// 毛利润 人民币
                grossMargin: 0,// 毛利率
                currency: 'USD',//所选外币币种
                currencyRate: 1, // 币种汇率
                currencyOptions: [
                    {label: '美元(USD)', value: 'USD'},
                    {label: '加拿大元(CAD)', value: 'CAD'},
                    {label: '墨西哥比索(MXN)', value: 'MXN'},
                    {label: '巴西雷亚尔(BRL)', value: 'BRL'},
                    {label: '英镑(GBP)', value: 'GBP'},
                    {label: '欧元(EUR)', value: 'EUR'},
                    {label: '瑞典克朗(SEK)', value: 'SEK'},
                    {label: '波兰兹罗提(PLN)', value: 'PLN'},
                    {label: '土耳其里拉(TRY)', value: 'TRY'},
                    {label: '日元(JPY)', value: 'JPY'},
                    {label: '新加坡元(SGD)', value: 'SGD'},
                    {label: '澳元(AUD)', value: 'AUD'},
                    {label: '阿联酋迪拉姆(AED)', value: 'AED'},
                    {label: '沙特里亚尔(SAR)', value: 'SAR'},
                    {label: '卢布(RUB)', value: 'RUB'}
                ]
            },
            priceCalculation: {
                price: 0,// 售价 指定币种
                priceCNY: 0,// 售价 人民币
                commissionRate: 15,// 佣金比例
                commission: 0,// 佣金 指定币种
                commissionCNY: 0,// 佣金 人民币
                deliverFee: 0,// 配送费 指定币种
                deliverFeeCNY: 0,// 配送费 人民币
                adRate: 0,// 广告费比例
                adCost: 0,// 广告费 指定币种
                adCostCNY: 0,// 广告费 人民币
                purchasingCost: 0,// 采购成本 指定币种
                purchasingCostCNY: 0,// 采购成本 人民币
                grossProfitRate: 0,// 毛利润率
                grossProfit: 0,// 毛利润 指定币种
                grossProfitCNY: 0,// 毛利润 人民币
                grossMargin: 0,// 毛利率
                currency: 'USD',//所选外币币种
                currencyRate: 1, // 币种汇率
                currencyOptions: [
                    {label: '美元(USD)', value: 'USD'},
                    {label: '加拿大元(CAD)', value: 'CAD'},
                    {label: '墨西哥比索(MXN)', value: 'MXN'},
                    {label: '巴西雷亚尔(BRL)', value: 'BRL'},
                    {label: '英镑(GBP)', value: 'GBP'},
                    {label: '欧元(EUR)', value: 'EUR'},
                    {label: '瑞典克朗(SEK)', value: 'SEK'},
                    {label: '波兰兹罗提(PLN)', value: 'PLN'},
                    {label: '土耳其里拉(TRY)', value: 'TRY'},
                    {label: '日元(JPY)', value: 'JPY'},
                    {label: '新加坡元(SGD)', value: 'SGD'},
                    {label: '澳元(AUD)', value: 'AUD'},
                    {label: '阿联酋迪拉姆(AED)', value: 'AED'},
                    {label: '沙特里亚尔(SAR)', value: 'SAR'},
                    {label: '卢布(RUB)', value: 'RUB'}
                ]
            },
            ads: {
                basePrice: '0',
                targetPrice: '0',
                bidRate: '0'
            }
        },
        mounted() {
            this.sizeType = this.sizeTypes[this.siteName]
            // 获取在线实时汇率
            this.getRateUnits()
            const self = this
            setTimeout(()=>{
                // 延迟刷新币种
                self.priceCalculationHandle('currency')
                self.profitCalculationHandle('currency')
            }, 3000)
        },
        methods: {
            showOnlineExcelEditor() {// 在线Excel编辑器跳转
                window.open('https://demo.grapecity.com.cn/SpreadJS/WebDesigner/index.html')
            },
            bidCalculationHandle() {
                const ads = {...this.ads}
                ads.basePrice = this.removeBeginningZero(ads.basePrice)
                ads.targetPrice = this.removeBeginningZero(ads.targetPrice)
                if (ads.targetPrice && ads.basePrice) {
                    this.ads.basePrice = this.removeBeginningZero(ads.basePrice)
                    this.ads.targetPrice = this.removeBeginningZero(ads.targetPrice)
                    this.ads.bidRate = Number((ads.targetPrice / ads.basePrice - 1) * 100).toFixed(this.toFixedNum)
                }
            },
            // 售价计算
            priceCalculationHandle(value) {
                const priceCalculation = {...this.priceCalculation}
                const inputVal = this.removeBeginningZero(priceCalculation[value])
                const priceAttrList = ['price', 'priceCNY', 'commission', 'commissionCNY', 'deliverFee', 'deliverFeeCNY', 'adCost', 'adCostCNY', 'purchasingCost', 'purchasingCostCNY', 'grossProfitRate', 'grossProfit', 'grossProfitCNY']
                // 转数字
                for (let string of priceAttrList) {
                    priceCalculation[string] = Number(priceCalculation[string])
                }

                // 先把对应的数据变动
                switch (value) {
                    case 'purchasingCost':// 采购费
                        priceCalculation.purchasingCostCNY = priceCalculation.purchasingCost * priceCalculation.currencyRate
                        break
                    case 'purchasingCostCNY':
                        priceCalculation.purchasingCost = priceCalculation.purchasingCostCNY / priceCalculation.currencyRate
                        break
                    case 'deliverFee':// 配送费
                        priceCalculation.deliverFeeCNY = priceCalculation.deliverFee * priceCalculation.currencyRate
                        break
                    case 'deliverFeeCNY':
                        priceCalculation.deliverFee = priceCalculation.deliverFeeCNY / priceCalculation.currencyRate || 0
                        break
                    case 'currency':
                        // 汇率变化
                        priceCalculation.currencyRate = this.convertRate(1, priceCalculation.currency, 'CNY')
                        // 佣金比例
                        const euCurrencyArr = ['GBP', 'EUR', 'SEK', 'PLN', 'TRY']
                        priceCalculation.commissionRate = euCurrencyArr.includes(priceCalculation.currency)? 35 : 15
                        // 配送费
                        priceCalculation.deliverFeeCNY = priceCalculation.deliverFee * priceCalculation.currencyRate
                        // 采购成本
                        priceCalculation.purchasingCostCNY = priceCalculation.purchasingCost * priceCalculation.currencyRate
                        break
                }

                // 改变的是毛利润的值时，拿值计算售价，反填毛利率
                if (['grossProfit', 'grossProfitCNY'].includes(value)) {
                    switch (value) {
                        case 'grossProfit':
                            priceCalculation.grossProfitCNY = priceCalculation.grossProfit * priceCalculation.currencyRate
                            break
                        case 'grossProfitCNY':
                            priceCalculation.grossProfit = priceCalculation.grossProfitCNY / priceCalculation.currencyRate
                            break
                    }
                    // 毛利润计算售价
                    priceCalculation.price = (priceCalculation.grossProfit + priceCalculation.deliverFee + priceCalculation.purchasingCost) / ((100 - priceCalculation.commissionRate - priceCalculation.adRate) / 100)
                    // 毛利率计算
                    priceCalculation.grossProfitRate = priceCalculation.grossProfit / priceCalculation.price * 100
                } else if (['adCost', 'adCostCNY'].includes(value)) {
                    // 改变的是广告费时，拿值计算售价，反填广告费比例
                    switch (value) {
                        case 'adCost':
                            priceCalculation.adCostCNY = priceCalculation.adCost * priceCalculation.currencyRate
                            break
                        case 'adCostCNY':
                            priceCalculation.adCost = priceCalculation.adCostCNY / priceCalculation.currencyRate
                            break
                    }
                    // 广告费计算售价
                    priceCalculation.price = (priceCalculation.deliverFee + priceCalculation.purchasingCost + priceCalculation.adCost) / ((100 - priceCalculation.commissionRate - priceCalculation.grossProfitRate) / 100)
                    // 广告费比例计算
                    priceCalculation.adRate = priceCalculation.adCost / priceCalculation.price * 100 || 0
                } else {
                    // 计算售价
                    priceCalculation.price = (priceCalculation.deliverFee + priceCalculation.purchasingCost) / ((100 - priceCalculation.commissionRate - priceCalculation.adRate - priceCalculation.grossProfitRate) / 100)
                    // 其他值变动时，根据比例重新计算广告费和毛利润
                    priceCalculation.adCost = priceCalculation.price * priceCalculation.adRate / 100
                    priceCalculation.adCostCNY = priceCalculation.adCost * priceCalculation.currencyRate

                    priceCalculation.grossProfit = priceCalculation.price * priceCalculation.grossProfitRate / 100
                    priceCalculation.grossProfitCNY = priceCalculation.grossProfit * priceCalculation.currencyRate
                }

                // 改变的是比例时，计算出售价后，反填
                switch (value) {
                    // 毛利率算毛利润
                    case 'grossProfitRate':
                        priceCalculation.grossProfit = priceCalculation.price * priceCalculation.grossProfitRate / 100
                        priceCalculation.grossProfitCNY = priceCalculation.grossProfit * priceCalculation.currencyRate
                        break
                    // 广告比例算广告费
                    case 'adRate':
                        priceCalculation.adCost = priceCalculation.price * priceCalculation.adRate / 100
                        priceCalculation.adCostCNY = priceCalculation.adCost * priceCalculation.currencyRate
                        break
                }


                priceCalculation.priceCNY = priceCalculation.price * priceCalculation.currencyRate
                // 计算佣金值
                priceCalculation.commission = priceCalculation.price * priceCalculation.commissionRate / 100
                priceCalculation.commissionCNY = priceCalculation.commission * priceCalculation.currencyRate

                // 保留4位小数
                this.toFixedObjAttr(priceCalculation, 4, priceAttrList)
                // 把正在输入的值放回去
                if (priceAttrList.includes(value)) {
                    priceCalculation[value] = inputVal
                }

                this.priceCalculation = {...priceCalculation}
            },
            // 利润计算
            profitCalculationHandle(value) {
                const profitCalculation = {...this.profitCalculation}
                // 转数字
                const priceAttrList = ['price', 'priceCNY', 'commission', 'commissionCNY', 'deliverFee', 'deliverFeeCNY', 'adCost', 'adCostCNY', 'purchasingCost', 'purchasingCostCNY', 'grossProfit', 'grossProfitCNY', 'grossMargin']
                for (let string of priceAttrList) {
                    profitCalculation[string] = this.removeBeginningZero(profitCalculation[string])
                    if (string === value) {
                        this.removeArrElement(string, priceAttrList)
                    }
                }
                // 先把对应的数据变动
                switch (value) {
                    case 'price':
                        profitCalculation.priceCNY = profitCalculation.price * profitCalculation.currencyRate
                        // 佣金
                        profitCalculation.commission = profitCalculation.price * profitCalculation.commissionRate / 100
                        profitCalculation.commissionCNY = profitCalculation.commission * profitCalculation.currencyRate
                        // 广告
                        profitCalculation.adCost = profitCalculation.price * profitCalculation.adRate / 100
                        profitCalculation.adCostCNY = profitCalculation.adCost * profitCalculation.currencyRate
                        break
                    case 'priceCNY':
                        profitCalculation.price = profitCalculation.priceCNY / profitCalculation.currencyRate
                        // 佣金
                        profitCalculation.commission = profitCalculation.price * profitCalculation.commissionRate / 100
                        profitCalculation.commissionCNY = profitCalculation.commission * profitCalculation.currencyRate
                        // 广告
                        profitCalculation.adCost = profitCalculation.price * profitCalculation.adRate / 100
                        profitCalculation.adCostCNY = profitCalculation.adCost * profitCalculation.currencyRate
                        break
                    case 'commissionRate':
                        // 佣金
                        profitCalculation.commission = profitCalculation.price * profitCalculation.commissionRate / 100
                        profitCalculation.commissionCNY = profitCalculation.commission * profitCalculation.currencyRate
                        break
                    case 'deliverFee':
                        profitCalculation.deliverFeeCNY = profitCalculation.deliverFee * profitCalculation.currencyRate
                        break
                    case 'deliverFeeCNY':
                        profitCalculation.deliverFee = profitCalculation.deliverFeeCNY / profitCalculation.currencyRate
                        break
                    case 'adRate':
                        profitCalculation.adCost = profitCalculation.price * profitCalculation.adRate / 100
                        profitCalculation.adCostCNY = profitCalculation.adCost * profitCalculation.currencyRate
                        break
                    case 'adCost':
                        profitCalculation.adCostCNY = profitCalculation.adCost * profitCalculation.currencyRate
                        profitCalculation.adRate = profitCalculation.price ? profitCalculation.adCost / profitCalculation.price * 100 : 0
                        break
                    case 'adCostCNY':
                        profitCalculation.adCost = profitCalculation.adCostCNY / profitCalculation.currencyRate
                        profitCalculation.adRate = profitCalculation.price ? profitCalculation.adCost / profitCalculation.price * 100 : 0
                        break
                    case 'purchasingCost':
                        profitCalculation.purchasingCostCNY = profitCalculation.purchasingCost * profitCalculation.currencyRate
                        break
                    case 'purchasingCostCNY':
                        profitCalculation.purchasingCost = profitCalculation.purchasingCostCNY / profitCalculation.currencyRate
                        break
                    case 'currency':
                        profitCalculation.currencyRate = this.convertRate(1, profitCalculation.currency, 'CNY')
                        // 佣金比例
                        const euCurrencyArr = ['GBP', 'EUR', 'SEK', 'PLN', 'TRY', ]
                        profitCalculation.commissionRate = euCurrencyArr.includes(profitCalculation.currency)? 35 : 15
                        // 价格
                        profitCalculation.priceCNY = profitCalculation.price * profitCalculation.currencyRate
                        // 佣金
                        profitCalculation.commission = profitCalculation.price * profitCalculation.commissionRate / 100
                        profitCalculation.commissionCNY = profitCalculation.commission * profitCalculation.currencyRate
                        // 广告
                        profitCalculation.adCost = profitCalculation.price * profitCalculation.adRate / 100
                        profitCalculation.adCostCNY = profitCalculation.adCost * profitCalculation.currencyRate
                        // 配送费
                        profitCalculation.deliverFeeCNY = profitCalculation.deliverFee * profitCalculation.currencyRate
                        // 采购成本
                        profitCalculation.purchasingCostCNY = profitCalculation.purchasingCost * profitCalculation.currencyRate
                        break
                }
                // 计算毛利润
                profitCalculation.grossProfit = profitCalculation.price - profitCalculation.commission - profitCalculation.deliverFee - profitCalculation.adCost - profitCalculation.purchasingCost
                profitCalculation.grossProfitCNY = profitCalculation.grossProfit * profitCalculation.currencyRate
                // 毛利率
                profitCalculation.grossMargin = profitCalculation.grossProfitCNY / profitCalculation.priceCNY * 100 // 毛利率：毛利润/售价
                // 保留4位小数
                this.toFixedObjAttr(profitCalculation, 4, priceAttrList)
                this.profitCalculation = {...profitCalculation}
            },
            // 先根据重量再看尺寸进行配送费计算
            classificationHandler() {
                this.FBADeliveryFee = {...{// 标准配送费
                        lowPrice: 0.0,// 售价不超过10刀的低价商品FBA配送费
                        standard: 0.0,// 标准配送费
                        highLowPrice: 0.0,// 高一档低价配送费
                        highStandard: 0.0// 高一档标准配送费
                    }}
                this.classification = ''
                this.highClassification = ''

                // 取出尺寸中符合重量要求的重量区间
                const weightRangeMap = {}
                if (this.weight.lb > 0) {
                    for (let sizeTypeKey in this.sizeType) {
                        const sizeTypeVal = this.sizeType[sizeTypeKey]
                        weightRangeMap[sizeTypeKey] = this.getWeightCondition(sizeTypeVal.weight)
                    }
                }
                // 获取匹配的标准尺寸
                let sizeTypeNameBySize = ''
                if (this.size.length['in'] && this.size.width['in'] && this.size.height['in']) {
                    for (let sizeTypeKey in this.sizeType) {
                        const sizeTypeVal = this.sizeType[sizeTypeKey]
                        const arr = [this.size.length[sizeTypeVal.side.unit], this.size.width[sizeTypeVal.side.unit], this.size.height[sizeTypeVal.side.unit]]
                        // 日本专属尺寸标准，没有次长边则进入此处
                        if (this.siteName === 'JP' && !sizeTypeVal.side.secondSide) {
                            const unit = sizeTypeVal.side.unit
                            // 长宽高和
                            if (this.size.length[unit] + this.size.width[unit] + this.size.height[unit] <= sizeTypeVal.side.longestSide) {
                                sizeTypeNameBySize = sizeTypeKey
                                break
                            }
                        } else if (this.matchConditions(sizeTypeVal.side, arr)) {
                            sizeTypeNameBySize = sizeTypeKey
                            break
                        }
                    }
                }
                // 尺寸和重量都在一个标准时为同一个标准
                if (sizeTypeNameBySize && Object.keys(weightRangeMap).length) {
                    console.log('尺寸和重量都在一个标准时为同一个标准')
                    let deliveryFee = null
                    let highDeliveryFee = null
                    if (weightRangeMap[sizeTypeNameBySize] !== null) {
                        // 标准FBA费用
                        const weightRange = weightRangeMap[sizeTypeNameBySize]
                        deliveryFee = this.getDeliveryFee(weightRange)
                        this.classification = this.sizeType[sizeTypeNameBySize].name
                        // 高一阶
                        const nextRange = weightRange['next']
                        if (nextRange) {
                            console.log('有高一阶直接使用')
                            // 有高一阶时直接使用
                            this.highClassification = this.sizeType[sizeTypeNameBySize].name
                            highDeliveryFee = this.getDeliveryFee(nextRange)
                        } else {
                            console.log('没有高一阶时，查找重量在更大尺寸的匹配区间')
                            // 没有高一阶时，查找重量在更大尺寸的匹配区间
                            const keys = Object.keys(weightRangeMap)
                            for (let i = keys.indexOf(sizeTypeNameBySize) + 1; i < keys.length; i++) {
                                // 取下一尺寸取适配重量，获取next
                                let range = weightRangeMap[keys[i]]
                                if (i === 1) {
                                    range = range['next']
                                }
                                if (range !== null && range !== undefined) {
                                    // 有高一阶时直接输入
                                    highDeliveryFee = this.getDeliveryFee(range)
                                    this.highClassification = this.sizeType[keys[i]].name
                                    break
                                }
                            }
                        }
                    } else {
                        console.log('尺寸和重量不在一个标准，查找重量在更大尺寸的匹配区间')
                        // 尺寸和重量不在一个标准时，查找重量在更大尺寸的匹配区间
                        const keys = Object.keys(weightRangeMap)
                        for (let i = keys.indexOf(sizeTypeNameBySize) + 1; i < keys.length; i++) {
                            const weightRange = weightRangeMap[keys[i]]
                            if (weightRange !== null) {
                                deliveryFee = this.getDeliveryFee(weightRange)
                                this.classification = this.sizeType[keys[i]].name
                                // 高一阶
                                const nextRange = weightRange['next']
                                if (nextRange) {
                                    // 有高一阶时直接使用
                                    console.log('有高一阶时直接使用')
                                    highDeliveryFee = this.getDeliveryFee(nextRange)
                                    this.highClassification = this.sizeType[keys[i]].name
                                } else {
                                    console.log('没有高一阶时，查找重量在更大尺寸的匹配区间')
                                    // 没有高一阶时，查找重量在更大尺寸的匹配区间
                                    const keys = Object.keys(weightRangeMap)
                                    for (let j = i + 1; i < keys.length; i++) {
                                        // 取下一尺寸取适配重量，获取next
                                        let range = weightRangeMap[keys[j]]
                                        if (j === 1) {
                                            range = range['next']
                                        }
                                        if (range !== null && range !== undefined) {
                                            // 有高一阶时直接输入
                                            highDeliveryFee = this.getDeliveryFee(range)
                                            console.log('取下一尺寸取适配重量，获取next:'+highDeliveryFee.fee)
                                            this.highClassification = this.sizeType[keys[j]].name
                                            break
                                        }
                                    }
                                }
                                break
                            }
                        }
                    }
                    if (deliveryFee) {
                        this.FBADeliveryFee.standard = deliveryFee.fee
                        this.FBADeliveryFee.lowPrice = deliveryFee.lowFee
                    }
                    if (highDeliveryFee) {
                        this.FBADeliveryFee.highStandard = highDeliveryFee.fee
                        this.FBADeliveryFee.highLowPrice = highDeliveryFee.lowFee
                    }
                } else if (sizeTypeNameBySize) {// 只有尺寸时
                    this.classification = this.sizeType[sizeTypeNameBySize].name
                } else if (Object.keys(weightRangeMap).length) {// 只有重量时，直接取符合条件的第一个区间
                    let deliveryFee = null
                    let highDeliveryFee = null
                    // 尺寸和重量不在一个标准时，查找重量在更大尺寸的匹配区间
                    console.log('尺寸和重量不在一个标准，查找重量在更大尺寸的匹配区间')
                    const keys = Object.keys(weightRangeMap)
                    for (let i = 0; i < keys.length; i++) {
                        const weightRange = weightRangeMap[keys[i]]
                        if (weightRange !== null) {
                            deliveryFee = this.getDeliveryFee(weightRange)
                            this.classification = this.sizeType[keys[i]].name
                            // 高一阶
                            const nextRange = weightRange['next']
                            if (nextRange) {
                                // 有高一阶时直接使用
                                console.log('有高一阶时直接使用')
                                highDeliveryFee = this.getDeliveryFee(nextRange)
                                this.highClassification = this.sizeType[keys[i]].name
                            } else {
                                // 没有高一阶时，查找重量在更大尺寸的匹配区间
                                console.log('没有高一阶时，查找重量在更大尺寸的匹配区间')
                                const keys = Object.keys(weightRangeMap)
                                for (let j = i + 1; i < keys.length; i++) {
                                    // 取下一尺寸取适配重量，获取next
                                    let range = weightRangeMap[keys[j]]
                                    if (j === 1) {
                                        range = range['next']
                                    }
                                    if (range !== null && range !== undefined) {
                                        // 有高一阶时直接输入
                                        highDeliveryFee = this.getDeliveryFee(range)
                                        this.highClassification = this.sizeType[keys[j]].name
                                        break
                                    }
                                }
                            }
                            break
                        }
                    }
                    if (deliveryFee) {
                        this.FBADeliveryFee.standard = deliveryFee.fee
                        this.FBADeliveryFee.lowPrice = deliveryFee.lowFee
                    }
                    if (highDeliveryFee) {
                        this.FBADeliveryFee.highStandard = highDeliveryFee.fee
                        this.FBADeliveryFee.highLowPrice = highDeliveryFee.lowFee
                    }
                }
            },
            // 获取指定尺寸内符合实际重量的重量区间
            getWeightCondition(weight) {
                const keys = Object.keys(weight)
                for (let i = 0; i < keys.length; i++) {
                    const weightCondition = weight[keys[i]]
                    // 统一重量单位后的重量
                    const weightValue = this.weight[weightCondition.unit]
                    // 判断是否在重量区间内
                    if (weightValue > weightCondition.start && weightValue <= weightCondition.end) {
                        if (keys.length > i + 1) {
                            weightCondition['next'] = weight[keys[i+1]]
                        }
                        return weightCondition
                    }
                }
                return null
            },
            // 根据重量计算FBA配送费
            getDeliveryFee(weightCondition) {
                let fee = 0
                let lowFee = 0
                // 统一重量单位
                const weightValue = this.weight[weightCondition.unit]
                // 计算基本费用及超重费用
                fee = weightCondition.standardDeliveryFee
                lowFee = weightCondition.lowPriceDeliveryFee
                if (weightCondition.hasOwnProperty('excessWeight')) {
                    // 计算超重部分
                    let excessWeightValue = weightValue - (weightCondition.start === 0 ? 1 : weightCondition.start)
                    if (excessWeightValue < 0) excessWeightValue = 0
                    // 判断并统一重量单位
                    if (weightCondition.unit !== weightCondition.excessWeight.unit) {
                        excessWeightValue = this.convert(excessWeightValue, weightCondition.unit, weightCondition.excessWeight.unit, this.weightUnits)
                    }
                    const excessWeightFee = Math.ceil(excessWeightValue / weightCondition.excessWeight.segmentation) * weightCondition.excessWeight.surcharge
                    console.log('基本重量费用：'+fee)
                    console.log('超重重量费用：'+Math.ceil(excessWeightValue / weightCondition.excessWeight.segmentation)+'*'+weightCondition.excessWeight.surcharge+'='+excessWeightFee)
                    fee = parseFloat(fee + excessWeightFee).toFixed(2)
                    lowFee = parseFloat(lowFee + excessWeightFee).toFixed(2)
                }
                return { fee, lowFee }
            },
            // 尺寸是否符合条件
            matchConditions(side, arr) {
                arr.sort((a, b) => a - b);
                const shortestSideMatch = side.shortestSide === 0 ? true : side.shortestSide >= arr[0]
                const secondSideMatch = side.secondSide === 0 ? true : side.secondSide >= arr[1]
                const longestSideMatch = side.longestSide === 0 ? true : side.longestSide >= arr[2]
                return shortestSideMatch && secondSideMatch && longestSideMatch
            },
            // 保留指定小数位数
            handleDataToFixed() {
                this.toFixedObjAttr(this.size.length, this.toFixedNum)
                this.toFixedObjAttr(this.size.width, this.toFixedNum)
                this.toFixedObjAttr(this.size.height, this.toFixedNum)
                this.toFixedObjAttr(this.volume, this.toFixedNum)
                this.toFixedObjAttr(this.weight, this.toFixedNum)
                this.toFixedObjAttr(this.rates, this.toFixedNum)
            },
            // 保留对象指定属性指定位数小数 超长才截取 不够的0不补
            toFixedObjAttr(obj, fixed, keys = []) {
                for (let key in obj) {
                    const value = Number(obj[key])
                    if (keys.length !== 0) {
                        // 当有指定属性列表时，在属性列表内的属性才进行精确小数位
                        if (keys.includes(key)) {
                            obj[key] = value ? Number(value.toFixed(fixed)) : 0
                        }
                    } else {
                        obj[key] = value ? Number(value.toFixed(fixed)) : 0
                    }
                }
            },
            // 关闭时还原保留小数位数
            handleFixedData(value) {
                if (!value) {
                    this.toFixedNum = -1
                }
            },
            // 长度置换
            handleSizeInput(value, unit, sizeObj) {
                sizeObj.mm = Number(this.convertSize(value, unit, 'mm'))
                sizeObj.cm = this.convertSize(value, unit, 'cm')
                sizeObj.in = this.convertSize(value, unit, 'in')
                sizeObj.ft = this.convertSize(value, unit, 'ft')
                if (this.size.length[unit] && this.size.width[unit] && this.size.height[unit]) {
                    this.handleVolumeInput(this.size.length[unit] * this.size.width[unit] * this.size.height[unit], unit)
                    // 计算FBA配送费
                    this.classificationHandler()
                }
            },
            // 体积置换
            handleVolumeInput(value, unit) {
                this.volume.cm = this.convertVolume(value, unit, 'cm')
                this.volume.m = this.convertVolume(value, unit, 'm')
                this.volume.in = this.convertVolume(value, unit, 'in')
                this.volume.ft = this.convertVolume(value, unit, 'ft')
            },
            // 重量置换
            handleWeightInput(value, unit) {
                this.weight.g = this.convertMass(value, unit, 'g')
                this.weight.kg = this.convertMass(value, unit, 'kg')
                this.weight.lb = this.convertMass(value, unit, 'lb')
                this.weight.oz = this.convertMass(value, unit, 'oz')
                // 计算FBA配送费
                this.classificationHandler()
            },
            // 汇率置换
            handleRatesInput(value, unit) {
                for (const str of this.currencys) {
                    this.rates[str] = this.convertRate(value, unit, str)
                }
            },
            // 转换尺寸、体积、重量、汇率数据
            convert(value, fromUnit, toUnit, units) {
                if (fromUnit === toUnit) return this.removeBeginningZero(value) // 正在输入的内容去除整数首位的0
                // Convert from original unit to specified unit
                const original = value * units[fromUnit];
                // Convert to target unit from specified unit
                return this.toFixedNum === -1 ? original / units[toUnit] : Number((original / units[toUnit]).toFixed(this.toFixedNum))
            },
            // 转换质量
            convertMass(value, fromUnit, toUnit) {
                return this.convert(value, fromUnit, toUnit, this.weightUnits)
            },
            // 转换尺寸
            convertSize(value, fromUnit, toUnit) {
                return this.convert(value, fromUnit, toUnit, this.sizeUnits)
            },
            // 转换体积
            convertVolume(value, fromUnit, toUnit) {
                return this.convert(value, fromUnit, toUnit, this.volumeUnits)
            },
            // 转换汇率
            convertRate(value, fromUnit, toUnit) {
                return this.convert(value, fromUnit, toUnit, this.rateUnits)
            },
            // 获取汇率
            getRateUnits() {
                const rateUnits = this.getCookie('rateUnits')
                if (rateUnits) {
                    console.log('获取到缓存rateUnits')
                    this.rateUnits = JSON.parse(rateUnits)
                    return
                }
                if (Object.keys(this.rateUnits).length !== 0) return
                this.refreshRateUnites()
            },
            refreshRateUnites() {
                const self = this
                fetch("https://api.exchangerate-api.com/v4/latest/CNY", {method: 'GET'})
                    .then(response => response.json())
                    .then(data => {
                        const rates = data.rates
                        for (let rateKey in rates) {
                            if (self.currencys.includes(rateKey)) {
                                self.rateUnits[rateKey] = 1 / rates[rateKey]
                            }
                        }
                        self.setCookie('rateUnits', JSON.stringify(self.rateUnits), 5)
                        self.$message({message: '汇率刷新成功',type: 'success'});
                    })
                    .catch(error => {
                        console.error('Error:', error)
                        self.$message({message: '汇率刷新失败',type: 'success'});
                    });
            },
            // 设置cookie
            setCookie(name, value, minuteToLive) {
                let cookie = name + "=" + encodeURIComponent(value)
                if (typeof minuteToLive === "number") {
                    cookie += "; max-age=" + (minuteToLive*60) // max-age单位是秒
                }
                document.cookie = cookie
            },
            // 获取cookie
            getCookie(name) {
                let cookies = document.cookie.split(';')
                for (let i = 0; i < cookies.length; i++) {
                    let cookie = cookies[i].trim()
                    // 查找名称为name的cookie
                    if (cookie.indexOf(name + "=") === 0) {
                        return decodeURIComponent(cookie.substring(name.length + 1, cookie.length));
                    }
                }
                return null // 未找到cookie
            },
            // 删除数组指定元素
            removeArrElement(target = '', array = []) {
                const index = array.indexOf(target)
                if (index !== -1) {
                    array.splice(index, 1)
                }
            },
            // 去掉整数开头多余的0 防止输入时输入小数点后的0时，0被删除
            removeBeginningZero(num = '0') {
                num = String(num)
                const index = num.indexOf('.')
                return index === -1 ? Number(num) : Number(num.substring(0, index)) + '.' + num.substring(index + 1, num.length)
            },
            // 切换站点时计算费用
            changeSiteHandler() {
                this.sizeType = this.sizeTypes[this.siteName]
                this.classificationHandler()
            }
        }
    });
</script>
</body>
</html>
