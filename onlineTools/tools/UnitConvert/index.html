<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>尺寸重量换算工具</title>
    <!-- 引入Element UI的CSS样式 -->
    <link href="css/element-ui.css" rel="stylesheet">
    <style>
        /* 隐藏input type=number上下箭头 */
        input::-webkit-inner-spin-button,
        input::-webkit-outer-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }

        /* 组件字体加大 */
        .el-button,
        .el-input,
        .el-form-item__label,
        .el-select,
        label {
            font-size: 20px; /* 这里的字体大小可以根据需求调整 */
        }

        /*.el-form-item__label {*/
        /*    white-space: nowrap;*/
        /*}*/
        /* 最小宽度 */
        .min-width-col {
            min-width: 140px;
        }

        .label-tip {
            /*font-size: 14px;*/
            /*color: rgba(0, 0, 0, 0.63);*/
        }
        .label-title {
            font-weight: bold;
        }

    </style>
</head>
<body>
<div id="app">
    <br/>
    <el-form label-width="120px" ref="form" v-model="size">
        <el-row :gutter="20">
            <el-col :span="sizeAndWeightSpanNum">
                <label class="label-title">长：</label>
                <el-form-item label="厘米">
                    <el-input type="number" v-model="size.length.cm" class="min-width-col" @input="handleSizeInput($event, 'cm', size.length)">
                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">cm</i>
                    </el-input>
                </el-form-item>
                <el-form-item label="英寸">
                    <el-input type="number" v-model="size.length.in" class="min-width-col" @input="handleSizeInput($event, 'in', size.length)">
                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">in</i>
                    </el-input>
                </el-form-item>
                <el-form-item label="英尺">
                    <el-input type="number" v-model="size.length.ft" class="min-width-col" @input="handleSizeInput($event, 'ft', size.length)">
                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">ft</i>
                    </el-input>
                </el-form-item>
                <el-form-item>
                    <el-popover
                            placement="right"
                            width="320"
                            trigger="click">
                        <label class="label-tip">长宽高重量体积文本框宽度：</label>
                        <input type="number" v-model="sizeAndWeightSpanNum" style="width: 20px;height:20px;border-radius: 4px"></input><br/>
                        <label class="label-tip">售价计算毛利润文本框宽度：</label>
                        <input type="number" v-model="costProfitSpanNum" style="width: 20px;height:20px;border-radius: 4px"></input><br/>
                        <label class="label-tip">小数位数设置：</label>
                        <el-checkbox @change="handleFixedData" v-model="showFixedTextInput">{{ showFixedTextInput?'开启':'关闭' }}</el-checkbox>
                        <input v-show="showFixedTextInput" type="number" v-model="toFixedNum" style="width: 20px;height:20px;border-radius: 4px" @input="handleDataToFixed"></input>
                        <label v-show="showFixedTextInput" class="label-tip">位</label>
                        <el-button slot="reference">界面设置</el-button>
                    </el-popover>
                </el-form-item>
            </el-col>
            <el-col :span="sizeAndWeightSpanNum">
                <label class="label-title">宽：</label>
                <el-form-item label="厘米">
                    <el-input type="number" v-model="size.width.cm" class="min-width-col" @input="handleSizeInput($event, 'cm', size.width)">
                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">cm</i>
                    </el-input>
                </el-form-item>
                <el-form-item label="英寸">
                    <el-input type="number" v-model="size.width.in" class="min-width-col" @input="handleSizeInput($event, 'in', size.width)">
                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">in</i>
                    </el-input>
                </el-form-item>
                <el-form-item label="英尺">
                    <el-input type="number" v-model="size.width.ft" class="min-width-col" @input="handleSizeInput($event, 'ft', size.width)">
                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">ft</i>
                    </el-input>
                </el-form-item>
            </el-col>
            <el-col :span="sizeAndWeightSpanNum">
                <label class="label-title">高：</label>
                <el-form-item label="厘米">
                    <el-input type="number" v-model="size.height.cm" class="min-width-col" @input="handleSizeInput($event, 'cm', size.height)">
                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">cm</i>
                    </el-input>
                </el-form-item>
                <el-form-item label="英寸">
                    <el-input type="number" v-model="size.height.in" class="min-width-col" @input="handleSizeInput($event, 'in', size.height)">
                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">in</i>
                    </el-input>
                </el-form-item>
                <el-form-item label="英尺">
                    <el-input type="number" v-model="size.height.ft" class="min-width-col" @input="handleSizeInput($event, 'ft', size.height)">
                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">ft</i>
                    </el-input>
                </el-form-item>
            </el-col>
            <el-col :span="sizeAndWeightSpanNum">
                <label class="label-title">重量：</label>
                <el-form-item label="克">
                    <el-input type="number" v-model="weight.g" class="min-width-col" @input="handleWeightInput($event, 'g')">
                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">g</i>
                    </el-input>
                </el-form-item>
                <el-form-item label="千克">
                    <el-input type="number" v-model="weight.kg" class="min-width-col" @input="handleWeightInput($event, 'kg')">
                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">kg</i>
                    </el-input>
                </el-form-item>
                <el-form-item label="磅">
                    <el-input type="number" v-model="weight.lb" class="min-width-col" @input="handleWeightInput($event, 'lb')">
                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">lb</i>
                    </el-input>
                </el-form-item>
                <el-form-item label="盎司">
                    <el-input type="number" v-model="weight.oz" class="min-width-col" @input="handleWeightInput($event, 'oz')">
                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">oz</i>
                    </el-input>
                </el-form-item>
            </el-col>
            <el-col :span="sizeAndWeightSpanNum">
                <label class="label-title">FBA费用计算：</label>
                <el-form-item label="标准尺寸">
                    <el-input v-model="classification" class="min-width-col"></el-input>
                </el-form-item>
                <el-form-item label="标准配送费" class="min-width-col">
                    <el-input v-model="standardDeliveryFee">
                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">$USD</i>
                    </el-input>
                </el-form-item>
                <el-form-item label="低价配送费" class="min-width-col">
                    <el-input v-model="lowPriceDeliveryFee">
                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">$USD</i>
                    </el-input>
                </el-form-item>
            </el-col>
            <el-col :span="sizeAndWeightSpanNum">
                <label class="label-title">体积：</label>
                <el-form-item label="立方厘米">
                    <el-input type="number" v-model="volume.cm" class="min-width-col" @input="handleVolumeInput($event, 'cm')">
                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">cm&sup3;</i>
                    </el-input>
                </el-form-item>
                <el-form-item label="立方英尺">
                    <el-input type="number" v-model="volume.ft" class="min-width-col" @input="handleVolumeInput($event, 'ft')">
                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">ft&sup3;</i>
                    </el-input>
                </el-form-item>
                <el-form-item label="立方英寸">
                    <el-input type="number" v-model="volume.in" class="min-width-col" @input="handleVolumeInput($event, 'in')">
                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">in&sup3;</i>
                    </el-input>
                </el-form-item>
            </el-col>
        </el-row>
        <el-row :gutter="20">
            <el-col :span="5">
                <label class="label-title">常用汇率：</label>
                <el-form-item label="人民币">
                    <el-input type="number" v-model="rates.CNY" @input="handleRatesInput($event, 'CNY')">
                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">￥CNY</i>
                    </el-input>
                </el-form-item>
                <el-form-item label="美元">
                    <el-input type="number" v-model="rates.USD" @input="handleRatesInput($event, 'USD')">
                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">$USD</i>
                    </el-input>
                </el-form-item>
                <el-form-item label="加拿大元">
                    <el-input type="number" v-model="rates.CAD" @input="handleRatesInput($event, 'CAD')">
                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">$CAD</i>
                    </el-input>
                </el-form-item>
                <el-form-item label="欧元">
                    <el-input type="number" v-model="rates.EUR" @input="handleRatesInput($event, 'EUR')">
                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">$EUR</i>
                    </el-input>
                </el-form-item>
                <el-form-item label="英镑">
                    <el-input type="number" v-model="rates.GBP" @input="handleRatesInput($event, 'GBP')">
                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">$GBP</i>
                    </el-input>
                </el-form-item>
                <el-form-item label="日元">
                    <el-input type="number" v-model="rates.JPY" @input="handleRatesInput($event, 'JPY')">
                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">$JPY</i>
                    </el-input>
                </el-form-item>
                <el-form-item label="澳元">
                    <el-input type="number" v-model="rates.AUD" @input="handleRatesInput($event, 'AUD')">
                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">$AUD</i>
                    </el-input>
                </el-form-item>
            </el-col>
            <el-col :span="5">
                <label class="label-title">不常用汇率：</label>
                <el-form-item label="新加坡元">
                    <el-input type="number" v-model="rates.SGD" @input="handleRatesInput($event, 'SGD')">
                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">$SGD</i>
                    </el-input>
                </el-form-item>
                <el-form-item label="墨西哥比索">
                    <el-input type="number" v-model="rates.MXN" @input="handleRatesInput($event, 'MXN')">
                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">$MXN</i>
                    </el-input>
                </el-form-item>
                <el-form-item label="瑞典朗克">
                    <el-input type="number" v-model="rates.SEK" @input="handleRatesInput($event, 'SEK')">
                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">$SEK</i>
                    </el-input>
                </el-form-item>
                <el-form-item label="波兰兹罗提">
                    <el-input type="number" v-model="rates.PLN" @input="handleRatesInput($event, 'PLN')">
                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">$PLN</i>
                    </el-input>
                </el-form-item>
                <el-form-item label="沙特里亚尔">
                    <el-input type="number" v-model="rates.SAR" @input="handleRatesInput($event, 'SAR')">
                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">$SAR</i>
                    </el-input>
                </el-form-item>
                <el-form-item label="阿联酋迪拉姆">
                    <el-input type="number" v-model="rates.AED" @input="handleRatesInput($event, 'AED')">
                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">$AED</i>
                    </el-input>
                </el-form-item>
            </el-col>
            <el-col :span="costProfitSpanNum">
                <label class="label-title">售价计算毛利润：</label>
                <el-form-item label="售价">
                    <el-input @input="profitCalculationHandle('price')" style="width: 200px;display: inline-block" type="number"
                              v-model="profitCalculation.price">
                        <!--                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">$USD</i>-->
                        <el-select @change="profitCalculationHandle('currency')" slot='suffix' style="width: 100px"
                                   v-model="profitCalculation.currency">
                            <el-option
                                    :key="item.value"
                                    :label="item.label"
                                    :value="item.value"
                                    v-for="item in profitCalculation.currencyOptions">
                            </el-option>
                        </el-select>
                    </el-input>
                    <el-input @input="profitCalculationHandle('priceCNY')" style="width: 200px;display: inline-block"
                              type="number" v-model="profitCalculation.priceCNY">
                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">￥CNY</i>
                    </el-input>
                </el-form-item>
                <el-form-item label="佣金&税">
                    <el-tooltip content="与售价的百分比" effect="light" placement="top">
                        <el-input @input="profitCalculationHandle('commissionRate')" style="width: 80px;display: inline-block"
                                  type="number"
                                  v-model="profitCalculation.commissionRate">
                            <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">%</i>
                        </el-input>
                    </el-tooltip>
                    <el-input @input="profitCalculationHandle('commission')" disabled
                              style="width: 160px;display: inline-block" type="number"
                              v-model="profitCalculation.commission">
                        <i slot='suffix'
                           style="font-style: normal; margin-right: 10px; line-height: 36px">${{profitCalculation.currency}}</i>
                    </el-input>
                    <el-input @input="profitCalculationHandle('commissionCNY')" disabled
                              style="width: 160px;display: inline-block" type="number"
                              v-model="profitCalculation.commissionCNY">
                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">￥CNY</i>
                    </el-input>
                </el-form-item>
                <el-form-item label="广告费">
                    <el-tooltip content="与售价的百分比" effect="light" placement="top">
                        <el-input @input="profitCalculationHandle('adRate')" style="width: 80px;display: inline-block" type="number"
                                  v-model="profitCalculation.adRate">
                            <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">%</i>
                        </el-input>
                    </el-tooltip>
                    <el-input @input="profitCalculationHandle('adCost')" style="width: 160px;display: inline-block"
                              type="number" v-model="profitCalculation.adCost">
                        <i slot='suffix'
                           style="font-style: normal; margin-right: 10px; line-height: 36px">${{profitCalculation.currency}}</i>
                    </el-input>
                    <el-input @input="profitCalculationHandle('adCostCNY')" style="width: 160px;display: inline-block"
                              type="number" v-model="profitCalculation.adCostCNY">
                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">￥CNY</i>
                    </el-input>
                </el-form-item>
                <el-form-item label="配送费">
                    <el-input @input="profitCalculationHandle('deliverFee')" style="width: 200px;display: inline-block"
                              type="number" v-model="profitCalculation.deliverFee">
                        <i slot='suffix'
                           style="font-style: normal; margin-right: 10px; line-height: 36px">${{profitCalculation.currency}}</i>
                    </el-input>
                    <el-input @input="profitCalculationHandle('deliverFeeCNY')" style="width: 200px;display: inline-block"
                              type="number"
                              v-model="profitCalculation.deliverFeeCNY">
                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">￥CNY</i>
                    </el-input>
                </el-form-item>
                <el-form-item label="采购成本">
                    <el-input @input="profitCalculationHandle('purchasingCost')" style="width: 200px;display: inline-block"
                              type="number"
                              v-model="profitCalculation.purchasingCost">
                        <i slot='suffix'
                           style="font-style: normal; margin-right: 10px; line-height: 36px">${{profitCalculation.currency}}</i>
                    </el-input>
                    <el-input @input="profitCalculationHandle('purchasingCostCNY')" style="width: 200px;display: inline-block"
                              type="number"
                              v-model="profitCalculation.purchasingCostCNY">
                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">￥CNY</i>
                    </el-input>
                </el-form-item>
                <el-form-item label="毛利润">
                    <el-input style="width: 200px;display: inline-block" type="number"
                              v-model="profitCalculation.grossProfit">
                        <i slot='suffix'
                           style="font-style: normal; margin-right: 10px; line-height: 36px">${{profitCalculation.currency}}</i>
                    </el-input>
                    <el-input style="width: 200px;display: inline-block" type="number"
                              v-model="profitCalculation.grossProfitCNY">
                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">￥CNY</i>
                    </el-input>
                </el-form-item>
            </el-col>
            <el-col :span="costProfitSpanNum">
                <label class="label-title">成本计算售价：</label>
                <el-form-item label="采购成本">
                    <el-input @input="priceCalculationHandle('purchasingCost')" ref="inputRef" style="width: 200px;display: inline-block"
                              type="number"
                              v-model="priceCalculation.purchasingCost">
                        <el-select @change="priceCalculationHandle('currency')" slot='suffix' style="width: 100px;"
                                   v-model="priceCalculation.currency">
                            <el-option
                                    :key="item.value"
                                    :label="item.label"
                                    :value="item.value"
                                    v-for="item in priceCalculation.currencyOptions">
                            </el-option>
                        </el-select>
                    </el-input>
                    <el-input @input="priceCalculationHandle('purchasingCostCNY')" style="width: 200px;display: inline-block"
                              type="number"
                              v-model="priceCalculation.purchasingCostCNY">
                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">￥CNY</i>
                    </el-input>
                </el-form-item>
                <el-form-item label="配送费">
                    <el-input @input="priceCalculationHandle('deliverFee')" style="width: 200px;display: inline-block"
                              type="number" v-model="priceCalculation.deliverFee">
                        <i slot='suffix'
                           style="font-style: normal; margin-right: 10px; line-height: 36px">${{priceCalculation.currency}}</i>
                    </el-input>
                    <el-input @input="priceCalculationHandle('deliverFeeCNY')" style="width: 200px;display: inline-block"
                              type="number"
                              v-model="priceCalculation.deliverFeeCNY">
                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">￥CNY</i>
                    </el-input>
                </el-form-item>
                <el-form-item label="毛利润">
                    <el-tooltip content="与采购成本的百分比" effect="light" placement="top">
                        <el-input @input="priceCalculationHandle('grossProfitRate')" style="width: 80px;display: inline-block"
                                  type="number"
                                  v-model="priceCalculation.grossProfitRate">
                            <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">%</i>
                        </el-input>
                    </el-tooltip>
                    <el-input @input="priceCalculationHandle('grossProfit')" style="width: 160px;display: inline-block"
                              type="number" v-model="priceCalculation.grossProfit">
                        <i slot='suffix'
                           style="font-style: normal; margin-right: 10px; line-height: 36px">${{priceCalculation.currency}}</i>
                    </el-input>
                    <el-input @input="priceCalculationHandle('grossProfitCNY')" style="width: 160px;display: inline-block"
                              type="number"
                              v-model="priceCalculation.grossProfitCNY">
                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">￥CNY</i>
                    </el-input>
                </el-form-item>
                <el-form-item label="佣金&税">
                    <el-tooltip content="与售价的百分比" effect="light" placement="top">
                        <el-input @input="priceCalculationHandle('commissionRate')" style="width: 80px;display: inline-block"
                                  type="number"
                                  v-model="priceCalculation.commissionRate">
                            <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">%</i>
                        </el-input>
                    </el-tooltip>
                    <el-input @input="priceCalculationHandle('commission')" disabled
                              style="width: 160px;display: inline-block" type="number"
                              v-model="priceCalculation.commission">
                        <i slot='suffix'
                           style="font-style: normal; margin-right: 10px; line-height: 36px">${{priceCalculation.currency}}</i>
                    </el-input>
                    <el-input @input="priceCalculationHandle('commissionCNY')" disabled
                              style="width: 160px;display: inline-block" type="number"
                              v-model="priceCalculation.commissionCNY">
                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">￥CNY</i>
                    </el-input>
                </el-form-item>
                <el-form-item label="广告费">
                    <el-tooltip content="与售价的百分比" effect="light" placement="top">
                        <el-input @input="priceCalculationHandle('adRate')" style="width: 80px;display: inline-block" type="number"
                                  v-model="priceCalculation.adRate">
                            <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">%</i>
                        </el-input>
                    </el-tooltip>
                    <el-input @input="priceCalculationHandle('adCost')" style="width: 160px;display: inline-block" type="number"
                              v-model="priceCalculation.adCost">
                        <i slot='suffix'
                           style="font-style: normal; margin-right: 10px; line-height: 36px">${{priceCalculation.currency}}</i>
                    </el-input>
                    <el-input @input="priceCalculationHandle('adCostCNY')" style="width: 160px;display: inline-block"
                              type="number" v-model="priceCalculation.adCostCNY">
                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">￥CNY</i>
                    </el-input>
                </el-form-item>
                <el-form-item label="售价">
                    <el-input style="width: 200px;display: inline-block" type="number" v-model="priceCalculation.price">
                        <i slot='suffix'
                           style="font-style: normal; margin-right: 10px; line-height: 36px">${{priceCalculation.currency}}</i>
                    </el-input>
                    <el-input style="width: 200px;display: inline-block" type="number"
                              v-model="priceCalculation.priceCNY">
                        <i slot='suffix' style="font-style: normal; margin-right: 10px; line-height: 36px">￥CNY</i>
                    </el-input>
                </el-form-item>
            </el-col>
        </el-row>
        <el-row :gutter="20">
            <el-col :span="6">
                <el-form-item label="">

                </el-form-item>
            </el-col>
        </el-row>
        <!-- 提交按钮等 -->
    </el-form>
</div>
<!-- 引入Vue.js -->
<script src="js/vue.min.2.6.14.js"></script>
<!-- 引入Element UI的JavaScript库 -->
<script src="js/element-ui.js"></script>
<script>
    // 创建一个Vue实例
    new Vue({
        el: '#app',
        data: {
            sizeAndWeightSpanNum: 4,
            costProfitSpanNum: 7,
            showFixedTextInput: true,// 显示或隐藏精确小数位文本输入框
            toFixedNum: 6,
            weight: {
                g: 0.0,
                kg: 0.0,
                lb: 0.0,
                oz: 0.0
            },
            size: {
                length: {
                    cm: 0.0,
                    in: 0.0,
                    ft: 0.0
                },
                width: {
                    cm: 0.0,
                    in: 0.0,
                    ft: 0.0
                },
                height: {
                    cm: 0.0,
                    in: 0.0,
                    ft: 0.0
                }
            },
            volume: {
                cm: 0.0,
                m: 0.0,
                in: 0.0,
                ft: 0.0
            },
            rates: {
                CNY: 0.0,
                USD: 0.0,
                CAD: 0.0,
                MXN: 0.0,
                BRL: 0.0,
                GBP: 0.0,
                EUR: 0.0,
                SEK: 0.0,
                PLN: 0.0,
                JPY: 0.0,
                SGD: 0.0,
                AUD: 0.0,
                AED: 0.0,
                SAR: 0.0
            },
            weightUnits: {
                g: 1,
                kg: 1000,
                lb: 453.592,
                oz: 28.3495
            },
            sizeUnits: {
                cm: 1,
                in: 2.54,
                ft: 30.48
            },
            volumeUnits: {
                cm: 1,
                m: 1000000,
                in: 16.387037,
                ft: 28316.8
            },
            rateUnits: {},
            sizeType: {
                Small: {// 小号标准尺寸
                    side: {//边长标准
                        longestSide: 15,// 最长边不超过15英寸
                        secondSide: 12,// 次长边不超过12英寸
                        shortestSide: 0.75// 最短边不超过0.75英寸
                    },
                    weight: {
                        from0To2: {
                            start: 0,
                            end: 2,// 不超过2盎司
                            unit: 'oz',
                            lowPriceDeliveryFee: 2.29,// 售价不超过10刀的低价商品FBA配送费
                            standardDeliveryFee: 3.06// 售价超过10刀的标准商品FBA配送费
                        },
                        from2To4: {
                            start: 2,
                            end: 4,
                            unit: 'oz',
                            lowPriceDeliveryFee: 2.38,
                            standardDeliveryFee: 3.15
                        },
                        from4To6: {
                            start: 4,
                            end: 6,
                            unit: 'oz',
                            lowPriceDeliveryFee: 2.47,
                            standardDeliveryFee: 3.24
                        },
                        from6To8: {
                            start: 6,
                            end: 8,
                            unit: 'oz',
                            lowPriceDeliveryFee: 2.56,
                            standardDeliveryFee: 3.33
                        },
                        from8To10: {
                            start: 8,
                            end: 10,
                            unit: 'oz',
                            lowPriceDeliveryFee: 2.66,
                            standardDeliveryFee: 3.43
                        },
                        from10To12: {
                            start: 10,
                            end: 12,
                            unit: 'oz',
                            lowPriceDeliveryFee: 2.76,
                            standardDeliveryFee: 3.53
                        },
                        from12To14: {
                            start: 12,
                            end: 14,
                            unit: 'oz',
                            lowPriceDeliveryFee: 2.83,
                            standardDeliveryFee: 3.60
                        },
                        from14To16: {
                            start: 14,
                            end: 16,
                            unit: 'oz',
                            lowPriceDeliveryFee: 2.88,
                            standardDeliveryFee: 3.65
                        }
                    }
                },
                Large: {// 大号标准尺寸
                    side: {//边长标准
                        longestSide: 18,
                        secondSide: 14,
                        shortestSide: 8
                    },
                    weight: {
                        from0To4: {
                            start: 0,
                            end: 4,// 不超过4盎司
                            unit: 'oz',
                            lowPriceDeliveryFee: 2.91,// 售价不超过10刀的低价商品FBA配送费
                            standardDeliveryFee: 3.68// 售价超过10刀的标准商品FBA配送费
                        },
                        from4To8: {
                            start: 4,
                            end: 8,
                            unit: 'oz',
                            lowPriceDeliveryFee: 3.13,// 售价不超过10刀的低价商品FBA配送费
                            standardDeliveryFee: 3.9// 售价超过10刀的标准商品FBA配送费
                        },
                        from8To12: {
                            start: 8,
                            end: 12,
                            unit: 'oz',
                            lowPriceDeliveryFee: 3.38,// 售价不超过10刀的低价商品FBA配送费
                            standardDeliveryFee: 4.15// 售价超过10刀的标准商品FBA配送费
                        },
                        from12To16: {
                            start: 12,
                            end: 16,// 不超过16盎司
                            unit: 'oz',
                            lowPriceDeliveryFee: 3.78,// 售价不超过10刀的低价商品FBA配送费
                            standardDeliveryFee: 4.55// 售价超过10刀的标准商品FBA配送费
                        },
                        from100To125: {
                            start: 1,
                            end: 1.25,// 不超过1.25磅
                            unit: 'lb',
                            lowPriceDeliveryFee: 4.22,// 售价不超过10刀的低价商品FBA配送费
                            standardDeliveryFee: 4.99// 售价超过10刀的标准商品FBA配送费
                        },
                        from125To150: {
                            start: 1.25,
                            end: 1.5,
                            unit: 'lb',
                            lowPriceDeliveryFee: 4.6,// 售价不超过10刀的低价商品FBA配送费
                            standardDeliveryFee: 5.37// 售价超过10刀的标准商品FBA配送费
                        },
                        from150To175: {
                            start: 1.5,
                            end: 1.75,
                            unit: 'lb',
                            lowPriceDeliveryFee: 4.75,// 售价不超过10刀的低价商品FBA配送费
                            standardDeliveryFee: 5.52// 售价超过10刀的标准商品FBA配送费
                        },
                        from175To200: {
                            start: 1.75,
                            end: 2,
                            unit: 'lb',
                            lowPriceDeliveryFee: 5,// 售价不超过10刀的低价商品FBA配送费
                            standardDeliveryFee: 5.77// 售价超过10刀的标准商品FBA配送费
                        },
                        from200To225: {
                            start: 2,
                            end: 2.25,
                            unit: 'lb',
                            lowPriceDeliveryFee: 5.1,// 售价不超过10刀的低价商品FBA配送费
                            standardDeliveryFee: 5.87// 售价超过10刀的标准商品FBA配送费
                        },
                        from225To250: {
                            start: 2.25,
                            end: 2.5,
                            unit: 'lb',
                            lowPriceDeliveryFee: 5.28,// 售价不超过10刀的低价商品FBA配送费
                            standardDeliveryFee: 6.05// 售价超过10刀的标准商品FBA配送费
                        },
                        from250To275: {
                            start: 2.5,
                            end: 2.75,
                            unit: 'lb',
                            lowPriceDeliveryFee: 5.44,// 售价不超过10刀的低价商品FBA配送费
                            standardDeliveryFee: 6.21// 售价超过10刀的标准商品FBA配送费
                        },
                        from275To300: {
                            start: 2.75,
                            end: 3,
                            unit: 'lb',
                            lowPriceDeliveryFee: 5.85,// 售价不超过10刀的低价商品FBA配送费
                            standardDeliveryFee: 6.62// 售价超过10刀的标准商品FBA配送费
                        },
                        from300To2000: {
                            start: 3,
                            end: 20,// 不超过20磅
                            unit: 'lb',
                            lowPriceDeliveryFee: 6.15,// 售价不超过10刀的低价商品FBA配送费
                            standardDeliveryFee: 6.92,// 售价超过10刀的标准商品FBA配送费
                            excessWeight: {
                                unit: 'oz',
                                segmentation: 4, // 超出首重 3 磅的部分，每 4 盎司 $0.08
                                surcharge: 0.08// 超重部分附加费
                            }
                        }
                    }
                },
                LargeLarge: {// 大号大件
                    side: {
                        longestSide: 59,
                        secondSide: 33,
                        shortestSide: 33
                        // 另外要求长度+围长不超过 130 英寸，此处不进行处理
                    },
                    weight: {
                        from0To50: {
                            start: 0,
                            end: 50,
                            unit: 'lb',
                            lowPriceDeliveryFee: 8.84,// 售价不超过10刀的低价商品FBA配送费
                            standardDeliveryFee: 9.61,// 售价超过10刀的标准商品FBA配送费
                            excessWeight: {
                                unit: 'lb',
                                segmentation: 1, // 超出首磅的部分，每磅 $0.38
                                surcharge: 0.38// 超重部分附加费
                            }
                        }
                    }
                },
                Oversized: {// 超大件
                    side: {
                        longestSide: 59,
                        secondSide: 33,
                        shortestSide: 33
                        // 另外要求长度+围长不超过 130 英寸，此处不进行处理
                    },
                    weight: {
                        from0To50: {
                            start: 0,
                            end: 50,
                            unit: 'lb',
                            lowPriceDeliveryFee: 25.56,// 售价不超过10刀的低价商品FBA配送费
                            standardDeliveryFee: 26.33,// 售价超过10刀的标准商品FBA配送费
                            excessWeight: {
                                unit: 'lb',
                                segmentation: 1, // 超出首磅的部分，每磅 $0.38
                                surcharge: 0.38// 超重部分附加费
                            }
                        },
                        from50To70: {
                            start: 50,
                            end: 70,
                            unit: 'lb',
                            lowPriceDeliveryFee: 39.35,// 售价不超过10刀的低价商品FBA配送费
                            standardDeliveryFee: 40.12,// 售价超过10刀的标准商品FBA配送费
                            excessWeight: {
                                unit: 'lb',
                                segmentation: 1, // 超出首重的部分，每磅 $0.38
                                surcharge: 0.75// 超重部分附加费
                            }
                        },
                        from70To150: {
                            start: 70,
                            end: 150,
                            unit: 'lb',
                            lowPriceDeliveryFee: 54.04,// 售价不超过10刀的低价商品FBA配送费
                            standardDeliveryFee: 54.81,// 售价超过10刀的标准商品FBA配送费
                            excessWeight: {
                                unit: 'lb',
                                segmentation: 1, // 超出首重的部分，每磅 $0.75
                                surcharge: 0.75// 超重部分附加费
                            }
                        },
                        from150To999: {
                            start: 150,
                            end: 999,
                            unit: 'lb',
                            lowPriceDeliveryFee: 194.18,// 售价不超过10刀的低价商品FBA配送费
                            standardDeliveryFee: 194.95,// 售价超过10刀的标准商品FBA配送费
                            excessWeight: {
                                unit: 'lb',
                                segmentation: 1, // 超出首重的部分，每磅 $0.38
                                surcharge: 0.19// 超重部分附加费
                            }
                        }
                    }
                },
            },
            classification: '',
            lowPriceDeliveryFee: 0.0,// 售价不超过10刀的低价商品FBA配送费
            standardDeliveryFee: 0.0,
            profitCalculation: {
                price: 0,// 售价 指定币种
                priceCNY: 0,// 售价 人民币
                commissionRate: 15,// 佣金比例
                commission: 0,// 佣金 指定币种
                commissionCNY: 0,// 佣金 人民币
                deliverFee: 0,// 配送费 指定币种
                deliverFeeCNY: 0,// 配送费 人民币
                adRate: 30,// 广告费比例
                adCost: 0,// 广告费 指定币种
                adCostCNY: 0,// 广告费 人民币
                purchasingCost: 0,// 采购成本 指定币种
                purchasingCostCNY: 0,// 采购成本 人民币
                grossProfit: 0,// 毛利润 指定币种
                grossProfitCNY: 0,// 毛利润 人民币
                currency: 'CNY',//所选外币币种
                currencyRate: 1, // 币种汇率
                currencyOptions: [
                    {label: '美元(USD)', value: 'USD'},
                    {label: '加拿大元(CAD)', value: 'CAD'},
                    {label: '墨西哥比索(MXN)', value: 'MXN'},
                    {label: '巴西雷亚尔(BRL)', value: 'BRL'},
                    {label: '英镑(GBP)', value: 'GBP'},
                    {label: '欧元(EUR)', value: 'EUR'},
                    {label: '瑞典克朗(SEK)', value: 'SEK'},
                    {label: '波兰兹罗提(PLN)', value: 'PLN'},
                    {label: '日元(JPY)', value: 'JPY'},
                    {label: '新加坡元(SGD)', value: 'SGD'},
                    {label: '澳元(AUD)', value: 'AUD'},
                    {label: '阿联酋迪拉姆(AED)', value: 'AED'},
                    {label: '沙特里亚尔(SAR)', value: 'SAR'}
                ]
            },
            priceCalculation: {
                price: 0,// 售价 指定币种
                priceCNY: 0,// 售价 人民币
                commissionRate: 15,// 佣金比例
                commission: 0,// 佣金 指定币种
                commissionCNY: 0,// 佣金 人民币
                deliverFee: 0,// 配送费 指定币种
                deliverFeeCNY: 0,// 配送费 人民币
                adRate: 30,// 广告费比例
                adCost: 0,// 广告费 指定币种
                adCostCNY: 0,// 广告费 人民币
                purchasingCost: 0,// 采购成本 指定币种
                purchasingCostCNY: 0,// 采购成本 人民币
                grossProfitRate: 300,// 毛利润率
                grossProfit: 0,// 毛利润 指定币种
                grossProfitCNY: 0,// 毛利润 人民币
                currency: 'CNY',//所选外币币种
                currencyRate: 1, // 币种汇率
                currencyOptions: [
                    {label: '美元(USD)', value: 'USD'},
                    {label: '加拿大元(CAD)', value: 'CAD'},
                    {label: '墨西哥比索(MXN)', value: 'MXN'},
                    {label: '巴西雷亚尔(BRL)', value: 'BRL'},
                    {label: '英镑(GBP)', value: 'GBP'},
                    {label: '欧元(EUR)', value: 'EUR'},
                    {label: '瑞典克朗(SEK)', value: 'SEK'},
                    {label: '波兰兹罗提(PLN)', value: 'PLN'},
                    {label: '日元(JPY)', value: 'JPY'},
                    {label: '新加坡元(SGD)', value: 'SGD'},
                    {label: '澳元(AUD)', value: 'AUD'},
                    {label: '阿联酋迪拉姆(AED)', value: 'AED'},
                    {label: '沙特里亚尔(SAR)', value: 'SAR'}
                ]
            }
        },
        mounted() {
            // 获取在线实时汇率
            this.getRateUnits()
            // 根据屏幕大小自动调整初始文本框宽度
            if (window.screen.width > 1920) {
                this.sizeAndWeightSpanNum = 3
                this.costProfitSpanNum = 6
            } else {
                this.sizeAndWeightSpanNum = 4
                this.costProfitSpanNum = 7
            }
        },
        methods: {
            // 售价计算
            priceCalculationHandle(value) {
                const priceCalculation = {...this.priceCalculation}
                const inputVal = this.removeBeginningZero(priceCalculation[value])
                const priceAttrList = ['price', 'priceCNY', 'commission', 'commissionCNY', 'deliverFee', 'deliverFeeCNY', 'adCost', 'adCostCNY', 'purchasingCost', 'purchasingCostCNY', 'grossProfitRate', 'grossProfit', 'grossProfitCNY']
                // 转数字
                for (let string of priceAttrList) {
                    priceCalculation[string] = Number(priceCalculation[string])
                }

                // 先把对应的数据变动
                switch (value) {
                    case 'purchasingCost':// 采购费
                        priceCalculation.purchasingCostCNY = priceCalculation.purchasingCost * priceCalculation.currencyRate
                        priceCalculation.grossProfit = priceCalculation.purchasingCost * priceCalculation.grossProfitRate / 100
                        priceCalculation.grossProfitCNY = priceCalculation.grossProfit * priceCalculation.currencyRate
                        break
                    case 'purchasingCostCNY':
                        priceCalculation.purchasingCost = priceCalculation.purchasingCostCNY / priceCalculation.currencyRate
                        priceCalculation.grossProfit = priceCalculation.purchasingCost * priceCalculation.grossProfitRate / 100
                        priceCalculation.grossProfitCNY = priceCalculation.grossProfit * priceCalculation.currencyRate
                        break
                    case 'deliverFee':// 配送费
                        priceCalculation.deliverFeeCNY = priceCalculation.deliverFee * priceCalculation.currencyRate
                        break
                    case 'deliverFeeCNY':
                        priceCalculation.deliverFee = priceCalculation.deliverFeeCNY / priceCalculation.currencyRate || 0
                        break
                    case 'grossProfitRate':// 毛利
                        priceCalculation.grossProfit = priceCalculation.purchasingCost * priceCalculation.grossProfitRate / 100
                        priceCalculation.grossProfitCNY = priceCalculation.grossProfit * priceCalculation.currencyRate
                        break
                    case 'grossProfit':
                        priceCalculation.grossProfitCNY = priceCalculation.grossProfit * priceCalculation.currencyRate
                        priceCalculation.grossProfitRate = priceCalculation.grossProfit / priceCalculation.purchasingCost * 100 || 0
                        break
                    case 'grossProfitCNY':
                        priceCalculation.grossProfit = priceCalculation.grossProfitCNY / priceCalculation.currencyRate
                        priceCalculation.grossProfitRate = priceCalculation.grossProfit / priceCalculation.purchasingCost * 100 || 0
                        break
                    case 'currency':
                        priceCalculation.currencyRate = this.convertRate(1, priceCalculation.currency, 'CNY')
                        // 配送费
                        priceCalculation.deliverFeeCNY = priceCalculation.deliverFee * priceCalculation.currencyRate
                        // 采购成本
                        priceCalculation.purchasingCostCNY = priceCalculation.purchasingCost * priceCalculation.currencyRate
                        // 毛利润
                        priceCalculation.grossProfitCNY = priceCalculation.grossProfit * priceCalculation.currencyRate
                        break
                }
                // 计算售价
                priceCalculation.price = (priceCalculation.grossProfit + priceCalculation.deliverFee + priceCalculation.purchasingCost) / ((100 - priceCalculation.commissionRate - priceCalculation.adRate) / 100)

                // 广告费计算
                switch (value) {
                    case 'adRate':
                        priceCalculation.adCost = priceCalculation.price * priceCalculation.adRate / 100
                        priceCalculation.adCostCNY = priceCalculation.adCost * priceCalculation.currencyRate
                        break
                    case 'adCost':
                        priceCalculation.adCostCNY = priceCalculation.adCost * priceCalculation.currencyRate
                        priceCalculation.price = (priceCalculation.grossProfit + priceCalculation.deliverFee + priceCalculation.purchasingCost + priceCalculation.adCost) / ((100 - priceCalculation.commissionRate) / 100)
                        priceCalculation.adRate = priceCalculation.adCost / priceCalculation.price * 100 || 0
                        break
                    case 'adCostCNY':
                        priceCalculation.adCost = priceCalculation.adCostCNY / priceCalculation.currencyRate
                        priceCalculation.price = (priceCalculation.grossProfit + priceCalculation.deliverFee + priceCalculation.purchasingCost + priceCalculation.adCost) / ((100 - priceCalculation.commissionRate) / 100)
                        priceCalculation.adRate = priceCalculation.adCost / priceCalculation.price * 100 || 0
                        break
                }
                // 广告费计算
                if (!['adCost', 'adCostCNY'].includes(value)) {
                    priceCalculation.adCost = priceCalculation.price * priceCalculation.adRate / 100
                    priceCalculation.adCostCNY = priceCalculation.adCost * priceCalculation.currencyRate
                }

                priceCalculation.priceCNY = priceCalculation.price * priceCalculation.currencyRate
                // 计算佣金值
                priceCalculation.commission = priceCalculation.price * priceCalculation.commissionRate / 100
                priceCalculation.commissionCNY = priceCalculation.commission * priceCalculation.currencyRate

                // 保留4位小数
                this.toFixedObjAttr(priceCalculation, 4, priceAttrList)
                // 把正在输入的值放回去
                if (priceAttrList.includes(value)) {
                    priceCalculation[value] = inputVal
                }

                this.priceCalculation = {...priceCalculation}
            },
            // 利润计算
            profitCalculationHandle(value) {
                const profitCalculation = {...this.profitCalculation}
                // 转数字
                const priceAttrList = ['price', 'priceCNY', 'commission', 'commissionCNY', 'deliverFee', 'deliverFeeCNY', 'adCost', 'adCostCNY', 'purchasingCost', 'purchasingCostCNY', 'grossProfit', 'grossProfitCNY']
                for (let string of priceAttrList) {
                    profitCalculation[string] = this.removeBeginningZero(profitCalculation[string])
                    if (string === value) {
                        this.removeArrElement(string, priceAttrList)
                    }
                }
                // 先把对应的数据变动
                switch (value) {
                    case 'price':
                        profitCalculation.priceCNY = profitCalculation.price * profitCalculation.currencyRate
                        // 佣金
                        profitCalculation.commission = profitCalculation.price * profitCalculation.commissionRate / 100
                        profitCalculation.commissionCNY = profitCalculation.commission * profitCalculation.currencyRate
                        // 广告
                        profitCalculation.adCost = profitCalculation.price * profitCalculation.adRate / 100
                        profitCalculation.adCostCNY = profitCalculation.adCost * profitCalculation.currencyRate
                        break
                    case 'priceCNY':
                        profitCalculation.price = profitCalculation.priceCNY / profitCalculation.currencyRate
                        // 佣金
                        profitCalculation.commission = profitCalculation.price * profitCalculation.commissionRate / 100
                        profitCalculation.commissionCNY = profitCalculation.commission * profitCalculation.currencyRate
                        // 广告
                        profitCalculation.adCost = profitCalculation.price * profitCalculation.adRate / 100
                        profitCalculation.adCostCNY = profitCalculation.adCost * profitCalculation.currencyRate
                        break
                    case 'commissionRate':
                        // 佣金
                        profitCalculation.commission = profitCalculation.price * profitCalculation.commissionRate / 100
                        profitCalculation.commissionCNY = profitCalculation.commission * profitCalculation.currencyRate
                        break
                    case 'deliverFee':
                        profitCalculation.deliverFeeCNY = profitCalculation.deliverFee * profitCalculation.currencyRate
                        break
                    case 'deliverFeeCNY':
                        profitCalculation.deliverFee = profitCalculation.deliverFeeCNY / profitCalculation.currencyRate
                        break
                    case 'adRate':
                        profitCalculation.adCost = profitCalculation.price * profitCalculation.adRate / 100
                        profitCalculation.adCostCNY = profitCalculation.adCost * profitCalculation.currencyRate
                        break
                    case 'adCost':
                        profitCalculation.adCostCNY = profitCalculation.adCost * profitCalculation.currencyRate
                        profitCalculation.adRate = profitCalculation.price ? profitCalculation.adCost / profitCalculation.price * 100 : 0
                        break
                    case 'adCostCNY':
                        profitCalculation.adCost = profitCalculation.adCostCNY / profitCalculation.currencyRate
                        profitCalculation.adRate = profitCalculation.price ? profitCalculation.adCost / profitCalculation.price * 100 : 0
                        break
                    case 'purchasingCost':
                        profitCalculation.purchasingCostCNY = profitCalculation.purchasingCost * profitCalculation.currencyRate
                        break
                    case 'purchasingCostCNY':
                        profitCalculation.purchasingCost = profitCalculation.purchasingCostCNY / profitCalculation.currencyRate
                        break
                    case 'currency':
                        profitCalculation.currencyRate = this.convertRate(1, profitCalculation.currency, 'CNY')
                        // 价格
                        profitCalculation.priceCNY = profitCalculation.price * profitCalculation.currencyRate
                        // 佣金
                        profitCalculation.commission = profitCalculation.price * profitCalculation.commissionRate / 100
                        profitCalculation.commissionCNY = profitCalculation.commission * profitCalculation.currencyRate
                        // 广告
                        profitCalculation.adCost = profitCalculation.price * profitCalculation.adRate / 100
                        profitCalculation.adCostCNY = profitCalculation.adCost * profitCalculation.currencyRate
                        // 配送费
                        profitCalculation.deliverFeeCNY = profitCalculation.deliverFee * profitCalculation.currencyRate
                        // 采购成本
                        profitCalculation.purchasingCostCNY = profitCalculation.purchasingCost * profitCalculation.currencyRate
                        break
                }
                // 计算毛利润
                profitCalculation.grossProfit = profitCalculation.price - profitCalculation.commission - profitCalculation.deliverFee - profitCalculation.adCost - profitCalculation.purchasingCost
                profitCalculation.grossProfitCNY = profitCalculation.grossProfit * profitCalculation.currencyRate
                // 保留4位小数
                this.toFixedObjAttr(profitCalculation, 4, priceAttrList)
                this.profitCalculation = {...profitCalculation}
            },
            // 分类
            classificationHandler() {
                if (this.size.length['in'] && this.size.width['in'] && this.size.height['in']) {
                    const arr = [this.size.length['in'], this.size.width['in'], this.size.height['in']]
                    if (this.matchConditions(this.sizeType.Small.side, arr)) {
                        this.classification = '小号标准尺寸'
                        this.feeComputed(this.sizeType.Small.weight)
                    } else if (this.matchConditions(this.sizeType.Large.side, arr)) {
                        this.classification = '大号标准尺寸'
                        this.feeComputed(this.sizeType.Large.weight)
                    } else if (this.matchConditions(this.sizeType.LargeLarge.side, arr)) {
                        this.classification = '大号大件'
                        this.feeComputed(this.sizeType.LargeLarge.weight)
                    } else {
                        this.classification = '超大号'
                        this.feeComputed(this.sizeType.Oversized.weight)
                    }
                }
            },
            // 配送费计算
            feeComputed(weight) {
                if (this.weight.lb === 0) return
                let fee = 0
                let lowFee = 0
                for (const key in weight) {
                    const weightCondition = weight[key]
                    // 统一重量单位
                    const weightValue = this.weight[weightCondition.unit]
                    // 判断是否在重量区间内
                    if (weightValue >= weightCondition.start && weightValue < weightCondition.end) {
                        // 计算费用
                        fee = weightCondition.standardDeliveryFee
                        lowFee = weightCondition.lowPriceDeliveryFee
                        if (weightCondition.hasOwnProperty('excessWeight')) {
                            // 计算超重部分
                            let excessWeightValue = weightValue - weightCondition.start
                            // 判断并统一重量单位
                            if (weightCondition.unit !== weightCondition.excessWeight.unit) {
                                excessWeightValue = this.convert(excessWeightValue, weightCondition.unit, weightCondition.excessWeight.unit, this.weightUnits)
                            }
                            const excessWeightFee = excessWeightValue / weightCondition.excessWeight.segmentation * weightCondition.excessWeight.surcharge
                            fee = fee + excessWeightFee
                            lowFee = lowFee + excessWeightFee
                            break
                        }
                    }
                }
                this.standardDeliveryFee = fee
                this.lowPriceDeliveryFee = lowFee
            },
            // 是否符合条件
            matchConditions(side, arr) {
                arr.sort((a, b) => a - b);
                return side.shortestSide >= arr[0] && side.secondSide >= arr[1] && side.longestSide >= arr[2]
            },
            // 保留指定小数位数
            handleDataToFixed() {
                this.toFixedObjAttr(this.size.length, this.toFixedNum)
                this.toFixedObjAttr(this.size.width, this.toFixedNum)
                this.toFixedObjAttr(this.size.height, this.toFixedNum)
                this.toFixedObjAttr(this.volume, this.toFixedNum)
                this.toFixedObjAttr(this.weight, this.toFixedNum)
                this.toFixedObjAttr(this.rates, this.toFixedNum)
            },
            // 保留对象指定属性指定位数小数 超长才截取 不够的0不补
            toFixedObjAttr(obj, fixed, keys = []) {
                for (let key in obj) {
                    const value = Number(obj[key])
                    if (keys.length !== 0) {
                        // 当有指定属性列表时，在属性列表内的属性才进行精确小数位
                        if (keys.includes(key)) {
                            obj[key] = value ? Number(value.toFixed(fixed)) : 0
                        }
                    } else {
                        obj[key] = value ? value.toFixed(fixed) : 0
                    }
                }
            },
            // 关闭时还原保留小数位数
            handleFixedData(value) {
                if (!value) {
                    this.toFixedNum = -1
                }
            },
            // 长度置换
            handleSizeInput(value, unit, sizeObj) {
                sizeObj.cm = this.convertSize(value, unit, 'cm')
                sizeObj.in = this.convertSize(value, unit, 'in')
                sizeObj.ft = this.convertSize(value, unit, 'ft')
                if (this.size.length[unit] && this.size.width[unit] && this.size.height[unit]) {
                    this.handleVolumeInput(this.size.length[unit] * this.size.width[unit] * this.size.height[unit], unit)
                }
            },
            // 体积置换
            handleVolumeInput(value, unit) {
                this.volume.cm = this.convertVolume(value, unit, 'cm')
                this.volume.m = this.convertVolume(value, unit, 'm')
                this.volume.in = this.convertVolume(value, unit, 'in')
                this.volume.ft = this.convertVolume(value, unit, 'ft')
            },
            // 重量置换
            handleWeightInput(value, unit) {
                this.weight.g = this.convertMass(value, unit, 'g')
                this.weight.kg = this.convertMass(value, unit, 'kg')
                this.weight.lb = this.convertMass(value, unit, 'lb')
                this.weight.oz = this.convertMass(value, unit, 'oz')
            },
            // 汇率置换
            handleRatesInput(value, unit) {
                const currency = ['CNY', 'USD', 'CAD', 'MXN', 'BRL', 'GBP', 'EUR', 'SEK', 'PLN', 'JPY', 'SGD', 'AUD', 'AED', 'SAR']
                for (const str of currency) {
                    this.rates[str] = this.convertRate(value, unit, str)
                }
            },
            // 转换尺寸、体积、重量、汇率数据
            convert(value, fromUnit, toUnit, units) {
                if (fromUnit === toUnit) return this.removeBeginningZero(value) // 正在输入的内容去除整数首位的0
                // Convert from original unit to specified unit
                const original = value * units[fromUnit];
                // Convert to target unit from specified unit
                return this.toFixedNum === -1 ? original / units[toUnit] : (original / units[toUnit]).toFixed(this.toFixedNum)
            },
            // 转换质量
            convertMass(value, fromUnit, toUnit) {
                const mass = this.convert(value, fromUnit, toUnit, this.weightUnits)
                this.classificationHandler()
                return mass
            },
            // 转换尺寸
            convertSize(value, fromUnit, toUnit) {
                const size = this.convert(value, fromUnit, toUnit, this.sizeUnits)
                // 尺寸费用计算
                this.classificationHandler()
                return size
            },
            // 转换体积
            convertVolume(value, fromUnit, toUnit) {
                return this.convert(value, fromUnit, toUnit, this.volumeUnits)
            },
            // 转换汇率
            convertRate(value, fromUnit, toUnit) {
                return this.convert(value, fromUnit, toUnit, this.rateUnits)
            },
            // 获取汇率
            getRateUnits() {
                if (Object.keys(this.rateUnits).length !== 0) return
                fetch("https://api.exchangerate-api.com/v4/latest/CNY", {method: 'GET'})
                    .then(response => response.json())
                    .then(data => {
                        for (let ratesKey in data.rates) {
                            this.rateUnits[ratesKey] = 1 / data.rates[ratesKey]
                        }
                    })
                    .catch(error => console.error('Error:', error));
            },
            // 删除数组指定元素
            removeArrElement(target = '', array = []) {
                const index = array.indexOf(target)
                if (index !== -1) {
                    array.splice(index, 1)
                }
            },
            // 去掉整数开头多余的0 防止输入时输入小数点后的0时，0被删除
            removeBeginningZero(num = '0') {
                num = String(num)
                const index = num.indexOf('.')
                return index === -1 ? Number(num) : Number(num.substring(0, index)) + '.' + num.substring(index + 1, num.length)
            }
        }
    });
</script>
</body>
</html>
